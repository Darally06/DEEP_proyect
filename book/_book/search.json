[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Modelos ResNET para determinar la progresi√≥n de la Dementia",
    "section": "",
    "text": "1 MRI - Deep learning solutions fot dementia Disease prediction\nDe acuerdo con la organizaci√≥n mundial de la salud la dementia es un t√©rmino que engloba varias enfermedades que afectan la memoria, el pensamiento y la capacidad para realizar actividades cotidianas. Esta enfermedad empeora con el tiempo, relacionada a condiciones que destruyen las c√©lulas nerviosas y da√±an el cerebro, lo que conduce a al deterioro de funciones cognitivas. La detecci√≥n de esta destrucci√≥n resulta relevante para la salud de los pacientes e influye en las mejoras a su calidad de vida.\nLas im√°genes de resonancias magn√©ticas (RM) tienen un papel en el diagn√≥stico de la demencia, consiste en permitir el estudio de las estructuras cerebrales y c√≥mo cambian con el tiempo. En este sentido, los cambios en el hipocampo, as√≠ como en las regiones frontal y parietal, son marcadores evidentes del progreso de la enfermedad hacia la demencia.\nLa Iniciativa de Neuroimagen de la Enfermedad de Alzheimer (ADNI) es la colecci√≥n m√°s importante y extensa de informaci√≥n relacionada con el Alzheimer, que contiene diferentes tipos de im√°genes, informaci√≥n gen√©tica, informaci√≥n demogr√°fica, pruebas cognitivas y biomarcadores en l√≠quido cefalorraqu√≠deo.\nSe propone t√©cnicas de Deep Learning y Convolutional Neural Networks, para analizar si []",
    "crumbs": [
      "<span class='chapter-number'>1</span>¬† <span class='chapter-title'>MRI - Deep learning solutions fot dementia Disease prediction</span>"
    ]
  },
  {
    "objectID": "1_ETL_IMAGES.html",
    "href": "1_ETL_IMAGES.html",
    "title": "2¬† ETL -IMAGES",
    "section": "",
    "text": "2.1 Im√°genes descargadas\nCode\n# CARACTERISTICAS DE LAS IMAGENES DESCARGADAS\n\n# [Config] Rutas\noutput_dir  = r\"C:\\Users\\usuario\\MRI\\IMAGES_NII\"\n\n# [] Guardar atributos de las im√°genes\nrecords = []\n\nfor root, dirs, files in os.walk(output_dir):\n    for file in files:\n        if file.endswith(\".nii\"):\n            full_path = os.path.normpath(os.path.join(root, file))\n\n            # üß© Extraer ID del sujeto\n            match_id = re.search(r'(\\d{3}_S_\\d{4})', full_path)\n            sujeto_id = match_id.group(1) if match_id else None\n\n            # üóìÔ∏è Extraer fecha del estudio (YYYY-MM-DD)\n            match_fecha = re.search(r'(\\d{4}-\\d{2}-\\d{2})', full_path)\n            fecha = match_fecha.group(1) if match_fecha else None\n\n            # üîë Extraer ID de imagen (ej. I######)\n            match_img = re.search(r'(I\\d+)', full_path)\n            imagen_id = match_img.group(1) if match_img else None\n\n            # Leer metadatos del NIfTI\n            try:\n                img = nib.load(full_path)\n                data = img.get_fdata()\n\n                header = img.header\n                shape = img.shape\n                voxel_size = header.get_zooms()\n                voxel_volume = np.prod(voxel_size)\n                total_volume = voxel_volume*np.prod(shape)\n                datatype = str(header.get_data_dtype())\n                mean_intensity = np.mean(data)\n                std_intensity = np.std(data)\n                orientation = nib.aff2axcodes(img.affine)\n                units = header.get_xyzt_units()\n\n                records.append([\n                    sujeto_id, fecha, imagen_id, \n                    shape, voxel_size, datatype,\n                    voxel_volume, total_volume, \n                    mean_intensity, std_intensity,\n                    orientation, units, full_path\n                ])\n            except Exception as e:\n                print(f\"‚ö†Ô∏è Error leyendo {file}: {e}\")\n\ndf_images = pd.DataFrame(records, columns=[\n    \"sujeto_id\", \"fecha_imagen\", \"imagen_id\",\n    \"shape\", \"voxel_size\", \"datatype\",\n    \"voxel_volume_mm3\", \"total_volume\", \n    \"mean_intensity\", \"std_intensity\", \n    \"orientation\", \"units\",\"ruta\"\n])\n\n# Convertir fecha a tipo datetime\ndf_images[\"fecha_imagen\"] = pd.to_datetime(df_images[\"fecha_imagen\"], errors=\"coerce\")\n\nprint(f\"En total {len(df_images)} im√°genes fueron cargadas correctamente.\")\n\n\nEn total 220 im√°genes fueron cargadas correctamente.\nCode\ndf_images.to_csv('../Data/ADNI_Images.csv', index=False)\nCode\n# Archivos sobre im√°genes descargadas\n# -----------------------------------\n\ndescargas = pd.read_csv('../Data/ADNI_Descargas.csv', sep=';')\ndescargas.rename(columns={'Subject':'sujeto_id', 'Acq Date': 'fecha_imagen', 'Image Data ID': 'imagen_id'}, inplace=True)\n\n# Vistas v√°lidas\ndescargas = descargas[\n    (descargas['Visit'] != 'sc') &\n    (descargas['Visit'] != 'bl') &\n    (descargas['Visit'] != 'nv')\n]\n\n# Correci√≥n de fechas\ndescargas['fecha_imagen'] = pd.to_datetime(\n    descargas['fecha_imagen'],\n    errors='coerce'\n)\n\n# Eliminar im√°genes no usadas\ndescargas = descargas.drop(columns=['Group','Modality', 'Type', 'Format', 'Downloaded', 'Description'])\n\nprint(\n    \"Sobre las im√°genes descargadas: \"\n    f\"\\nIm√°genes: {len(descargas)}\"\n    f\"\\nPacientes √∫nicos: {descargas['sujeto_id'].nunique()}\"\n    f\"\\nVistras √∫nicas: {descargas['Visit'].nunique()}, {descargas['Visit'].unique()}\"\n    f\"\\nAtributos: {descargas.columns}\"\n    )\n\n#Image Data ID;Subject;Group;Sex;Age;Visit;Modality;Description;Type;Acq Date;Format;Downloaded\n\n\nSobre las im√°genes descargadas: \nIm√°genes: 246\nPacientes √∫nicos: 54\nVistras √∫nicas: 7, ['m18' 'm36' 'm06' 'm12' 'm24' 'm48' 'm60']\nAtributos: Index(['imagen_id', 'sujeto_id', 'Sex', 'Age', 'Visit', 'fecha_imagen'], dtype='object')\nCode\nadni_images = pd.merge(\n    df_images,\n    descargas,\n    on=['imagen_id', 'sujeto_id', 'fecha_imagen'],\n    how='left'  # o 'left', 'outer', etc.\n)\nprint(\n    \"Sobre los Imagenes + Pacientes: \"\n    f\"\\nIm√°genes: {len(adni_images)}\"\n    f\"\\nPacientes √∫nicos: {adni_images['sujeto_id'].nunique()}\"\n    f\"\\nVistras √∫nicas: {adni_images['Visit'].nunique()}, {adni_images['Visit'].unique()}\"\n    f\"\\nAtributos: {adni_images.columns}\"\n    )\n\n\nSobre los Imagenes + Pacientes: \nIm√°genes: 220\nPacientes √∫nicos: 51\nVistras √∫nicas: 7, ['m18' 'm36' 'm06' 'm24' 'm48' 'm12' 'm60']\nAtributos: Index(['sujeto_id', 'fecha_imagen', 'imagen_id', 'shape', 'voxel_size',\n       'datatype', 'voxel_volume_mm3', 'total_volume', 'mean_intensity',\n       'std_intensity', 'orientation', 'units', 'ruta', 'Sex', 'Age', 'Visit'],\n      dtype='object')\nCode\n# Archivos ADNI pacientes\nadni = pd.read_csv('../Data/ADNI_pacients.csv', sep=';')\nadni.rename(columns = {'VISCODE':'Visit'}, inplace=True)\nadni = adni.drop(columns=['AGE', 'PTGENDER', 'EXAMDATE'])\n\nprint(\n    \"Sobre los atributos de los pacientes: \"\n    f\"\\nIm√°genes: {len(adni)}\"\n    f\"\\nPacientes √∫nicos: {adni['sujeto_id'].nunique()}\"\n    f\"\\nVistras √∫nicas: {adni['Visit'].nunique()}, {adni['Visit'].unique()}\"\n    f\"\\nAtributos: {adni.columns}\"\n    )\n\n\nSobre los atributos de los pacientes: \nIm√°genes: 228\nPacientes √∫nicos: 51\nVistras √∫nicas: 6, ['m06' 'm12' 'm18' 'm24' 'm30' 'm36']\nAtributos: Index(['sujeto_id', 'Visit', 'DX', 'PTEDUCAT', 'APOE4', 'CDRSB', 'MMSE',\n       'ADAS13', 'FAQ', 'RAVLT_immediate', 'RAVLT_learning',\n       'RAVLT_forgetting', 'DIGITSCOR', 'TRABSCOR', 'Ventricles',\n       'Hippocampus', 'WholeBrain', 'Entorhinal', 'Fusiform', 'MidTemp',\n       'ICV'],\n      dtype='object')\nCode\nout = pd.merge(\n    adni_images,\n    adni,\n    on=['sujeto_id', 'Visit'],\n    how='left'  # o 'left', 'outer', etc.\n)\nprint(\n    \"Sobre los Imagenes + Pacientes: \"\n    f\"\\nIm√°genes: {len(out)}\"\n    f\"\\nPacientes √∫nicos: {out['sujeto_id'].nunique()}\"\n    f\"\\nVistras √∫nicas: {out['Visit'].nunique()}, {out['Visit'].unique()}\"\n    f\"\\nAtributos: {out.columns}\"\n    )\n\n\nSobre los Imagenes + Pacientes: \nIm√°genes: 220\nPacientes √∫nicos: 51\nVistras √∫nicas: 7, ['m18' 'm36' 'm06' 'm24' 'm48' 'm12' 'm60']\nAtributos: Index(['sujeto_id', 'fecha_imagen', 'imagen_id', 'shape', 'voxel_size',\n       'datatype', 'voxel_volume_mm3', 'total_volume', 'mean_intensity',\n       'std_intensity', 'orientation', 'units', 'ruta', 'Sex', 'Age', 'Visit',\n       'DX', 'PTEDUCAT', 'APOE4', 'CDRSB', 'MMSE', 'ADAS13', 'FAQ',\n       'RAVLT_immediate', 'RAVLT_learning', 'RAVLT_forgetting', 'DIGITSCOR',\n       'TRABSCOR', 'Ventricles', 'Hippocampus', 'WholeBrain', 'Entorhinal',\n       'Fusiform', 'MidTemp', 'ICV'],\n      dtype='object')\nCode\nout.to_csv('../Data/ANDI_out.csv', index=False)",
    "crumbs": [
      "<span class='chapter-number'>2</span>¬† <span class='chapter-title'>**ETL -IMAGES**</span>"
    ]
  },
  {
    "objectID": "1_ETL_IMAGES.html#im√°genes-descargadas",
    "href": "1_ETL_IMAGES.html#im√°genes-descargadas",
    "title": "2¬† ETL -IMAGES",
    "section": "",
    "text": "Leer atributos de las im√°genes\n\n\n\n\nCombinar con datos de descarga\n\n\n\n\nCombinar con datos del paciente [BioMarcadores]",
    "crumbs": [
      "<span class='chapter-number'>2</span>¬† <span class='chapter-title'>**ETL -IMAGES**</span>"
    ]
  },
  {
    "objectID": "1_ETL_IMAGES.html#imputaci√≥n",
    "href": "1_ETL_IMAGES.html#imputaci√≥n",
    "title": "2¬† ETL -IMAGES",
    "section": "2.2 Imputaci√≥n",
    "text": "2.2 Imputaci√≥n\n\nImputaci√≥n de acuerdo al sujeto\n\n\n\nCode\n# IMPUTACI√ìN\ndf_dx = out.copy()\n\n# DIAGN√ìSTIVCO\n# -------------------------------\ndf_dx = df_dx.sort_values([\"sujeto_id\", \"Visit\"])\nmapping_order = {\"CN\": 0, \"MCI\": 1, \"Dementia\": 2}\ndf_dx[\"DX_num\"] = df_dx[\"DX\"].map(mapping_order)\nsujetos_sin_dx = (\n    df_dx.groupby(\"sujeto_id\")[\"DX\"]\n    .apply(lambda x: x.isna().all())\n)\ndf_dx.loc[df_dx[\"sujeto_id\"].isin(sujetos_sin_dx[sujetos_sin_dx].index), \"DX_num\"] = mapping_order[\"MCI\"]\ndf_dx[\"DX_num\"] = df_dx.groupby(\"sujeto_id\")[\"DX_num\"].ffill()\ndf_dx[\"DX_num\"] = df_dx.groupby(\"sujeto_id\")[\"DX_num\"].bfill()\nreverse_mapping = {v: k for k, v in mapping_order.items()}\ndf_dx[\"DX_imputed\"] = df_dx[\"DX_num\"].map(reverse_mapping)\ndf_dx = df_dx.drop(columns=[\"DX_num\"])\n\n# NIVEL EDUCATIVO\n# -------------------------------\nmediana_global = df_dx[\"PTEDUCAT\"].median()\nmediana_sujeto = df_dx.groupby(\"sujeto_id\")[\"PTEDUCAT\"].transform(\"median\")\n# 3. Asignar:\n# - si el sujeto tiene medianas v√°lidas, usarla\n# - si el sujeto no tiene ning√∫n dato, usar la mediana global\ndf_dx[\"PTEDUCAT_imputed\"] = mediana_sujeto.fillna(mediana_sujeto)\ndf_dx[\"Educat\"] = mediana_sujeto.fillna(mediana_global)\n\n# SEXO - VISITA - TARFET\n# -------------------------------\ndf_dx[\"Sexo\"] = df_dx[\"Sex\"].map({\"M\":0, \"F\":1})\ndf_dx[\"Visita\"] =  df_dx['Visit'].str.extract(r'(\\d+)').astype(int)\nmap_dx = { \"MCI\":0, \"Dementia\":1}\ndf_dx[\"is_dementia\"] = df_dx[\"DX_imputed\"].map(map_dx)\n\n# LABEL de progresion\nlabel_por_sujeto = (\n    df_dx\n    .sort_values(['sujeto_id', 'Visita'])\n    .groupby('sujeto_id')['is_dementia']\n    .apply(lambda x: 1 if (x.diff() == 1).any() or (x.iloc[0] == 1) else 0)\n)\ndf_dx['label'] = df_dx['sujeto_id'].map(label_por_sujeto)\n\n\n\nNormalizaci√≥n de BioMarcadores\n\n\n\nCode\n# VARIABLE VOLUM√âTRICAS\ncognitivas = [\n    \"APOE4\", #APOE4 es una variante gen√©tica de la apolipoprote√≠na E\n    \"CDRSB\", #\"Suma de cajas del Clinical Dementia Rating (CDR); mide la severidad de la demencia.\",\n    \"MMSE\", #\"Mini-Mental State Examination; evaluaci√≥n global del estado cognitivo (m√°x. 30 puntos).\",\n    \"ADAS13\", #\"Alzheimer‚Äôs Disease Assessment Scale ‚Äì 13 √≠tems; mide deterioro cognitivo en Alzheimer.\",\n    \"FAQ\", #\"Functional Activities Questionnaire; eval√∫a la capacidad funcional en actividades diarias.\",\n    \"RAVLT_immediate\", # \"Puntuaci√≥n inmediata en la prueba verbal de aprendizaje (Rey Auditory Verbal Learning Test).\",\n    \"RAVLT_learning\", # \"Puntuaci√≥n de aprendizaje acumulado en RAVLT; mide retenci√≥n verbal.\",\n    \"RAVLT_forgetting\", # \"√çndice de olvido en RAVLT; diferencia entre aprendizaje y recuerdo tard√≠o.\",\n    \"DIGITSCOR\", #\"Digit Span Score; mide memoria de trabajo y atenci√≥n mediante secuencias num√©ricas.\",\n    \"TRABSCOR\", # \"Trail Making Test B Score; eval√∫a funci√≥n ejecutiva y flexibilidad cognitiva.\",\n]\nvolumen = [\n    \"Ventricles\", # \"Volumen de los ventr√≠culos cerebrales; puede indicar atrofia cerebral.\",\n    \"Hippocampus\", # \"Volumen del hipocampo; clave en memoria y afectado en Alzheimer.\",\n    \"WholeBrain\", # \"Volumen total del cerebro; √∫til para evaluar atrofia global.\",\n    \"Entorhinal\", # \"Volumen de la corteza entorrinal; regi√≥n afectada tempranamente en Alzheimer.\",\n    \"Fusiform\", #\"Volumen del giro fusiforme; relacionado con reconocimiento visual.\",\n    \"MidTemp\", # \"Volumen del l√≥bulo temporal medio; implicado en memoria y procesamiento auditivo.\",\n    \"ICV\", #\"Volumen intracraneal total; usado para normalizar medidas volum√©tricas.\"\n]\n\n\n\n\nCode\n# NORMALIZAR\ndef imputar_y_normalizar(df, variables, nombre_grupo):\n   \n    print('-'*50)\n    # Filtrar solo variables num√©ricas v√°lidas\n    variables_num = [v for v in variables if v in df.columns and df[v].dtype.kind in \"iufc\"]\n    print(f\"Variables num√©ricas para imputaci√≥n ({nombre_grupo}):\\n{variables_num}\")\n\n    # Subset de datos\n    datos = df[variables_num].copy()\n\n    # Imputaci√≥n multivariada\n    # Modelo bayesiano iterativo para predecir valores faltantes en funci√≥n de las dem√°s variables.\n    imputer = IterativeImputer(random_state=42, max_iter=20, sample_posterior=True)\n    datos_imputados = imputer.fit_transform(datos)\n\n    # Convertir a DataFrame imputado\n    df_imputado = pd.DataFrame(datos_imputados, columns=variables_num, index=df.index)\n\n    # Reemplazar en el DataFrame original\n    for v in variables_num:\n        df[v] = df_imputado[v]\n\n    print(\"‚úÖ Imputaci√≥n completada.\")\n\n    # Normalizaci√≥n z-score\n    scaler = StandardScaler()\n    df_std = pd.DataFrame(\n        scaler.fit_transform(df[variables_num]),\n        columns=[v + \"_std\" for v in variables_num],\n        index=df.index\n    )\n\n    # Concatenar al DataFrame original\n    df = pd.concat([df, df_std], axis=1)\n\n    return df\n\nprint('Imputaci√≥n')\ndf_dx = imputar_y_normalizar(df_dx, cognitivas, \"cognitivas\")\ndf_dx = imputar_y_normalizar(df_dx, volumen, \"volumen\")\n\n\nImputaci√≥n\n--------------------------------------------------\nVariables num√©ricas para imputaci√≥n (cognitivas):\n['APOE4', 'CDRSB', 'MMSE', 'ADAS13', 'FAQ', 'RAVLT_immediate', 'RAVLT_learning', 'RAVLT_forgetting', 'DIGITSCOR', 'TRABSCOR']\n‚úÖ Imputaci√≥n completada.\n--------------------------------------------------\nVariables num√©ricas para imputaci√≥n (volumen):\n['Ventricles', 'Hippocampus', 'WholeBrain', 'Entorhinal', 'Fusiform', 'MidTemp', 'ICV']\n‚úÖ Imputaci√≥n completada.\n\n\n\nDatos Tabulares para el modelo\n\n\n\nCode\ncolumnas = [\n    'sujeto_id','label','is_dementia', 'Visita', 'Age', 'Sexo', 'Educat',\n    'APOE4_std', 'CDRSB_std','MMSE_std', 'ADAS13_std', 'FAQ_std', \n    'RAVLT_immediate_std','RAVLT_learning_std', 'RAVLT_forgetting_std', \n    'DIGITSCOR_std', 'TRABSCOR_std', 'Ventricles_std', 'Hippocampus_std', \n    'WholeBrain_std', 'Entorhinal_std', 'Fusiform_std', 'MidTemp_std', 'ICV_std'\n]\n\ndf_tab = df_dx[columnas]\n\n\n\n\nCode\ndf_tab.info()\n\n\n&lt;class 'pandas.core.frame.DataFrame'&gt;\nIndex: 220 entries, 47 to 199\nData columns (total 24 columns):\n #   Column                Non-Null Count  Dtype  \n---  ------                --------------  -----  \n 0   sujeto_id             220 non-null    object \n 1   label                 220 non-null    int64  \n 2   is_dementia           220 non-null    int64  \n 3   Visita                220 non-null    int64  \n 4   Age                   220 non-null    int64  \n 5   Sexo                  220 non-null    int64  \n 6   Educat                220 non-null    float64\n 7   APOE4_std             220 non-null    float64\n 8   CDRSB_std             220 non-null    float64\n 9   MMSE_std              220 non-null    float64\n 10  ADAS13_std            220 non-null    float64\n 11  FAQ_std               220 non-null    float64\n 12  RAVLT_immediate_std   220 non-null    float64\n 13  RAVLT_learning_std    220 non-null    float64\n 14  RAVLT_forgetting_std  220 non-null    float64\n 15  DIGITSCOR_std         220 non-null    float64\n 16  TRABSCOR_std          220 non-null    float64\n 17  Ventricles_std        220 non-null    float64\n 18  Hippocampus_std       220 non-null    float64\n 19  WholeBrain_std        220 non-null    float64\n 20  Entorhinal_std        220 non-null    float64\n 21  Fusiform_std          220 non-null    float64\n 22  MidTemp_std           220 non-null    float64\n 23  ICV_std               220 non-null    float64\ndtypes: float64(18), int64(5), object(1)\nmemory usage: 43.0+ KB\n\n\n\n\nCode\ndf_tab.to_csv('../Data/TABULAR.csv', index=False)\n\n\n\nDistribuci√≥n de clases: Progresi√≥n de casos\n\n\n\nCode\n# [] Balance de clases\nprint(\"\\n Distribuci√≥n de la variable objetivo:\")\ndisplay(df_tab[\"label\"].value_counts(normalize=True).mul(100).round(2).to_frame())\ndf_tab[\"label\"].value_counts().plot(kind=\"bar\", title=\"Distribuci√≥n de progresi√≥n\")\n\n# [Test] Z-test para comparar proporciones\ncounts = [df_tab[\"label\"].value_counts()[1],\n          df_tab[\"label\"].value_counts()[0]]\nnobs = [sum(counts), sum(counts)]\nstat, pval = proportions_ztest(counts, nobs)\nprint(f\"\\nPrueba Z-test: Z = {stat:.2f}, p-value = {pval:.4f}\")\n\n\n\n Distribuci√≥n de la variable objetivo:\n\n\n\n\n\n\n\n\n\nproportion\n\n\nlabel\n\n\n\n\n\n0\n59.09\n\n\n1\n40.91\n\n\n\n\n\n\n\n\nPrueba Z-test: Z = -3.81, p-value = 0.0001",
    "crumbs": [
      "<span class='chapter-number'>2</span>¬† <span class='chapter-title'>**ETL -IMAGES**</span>"
    ]
  },
  {
    "objectID": "1_ETL_IMAGES.html#estandarizaci√≥n-de-las-im√°genes",
    "href": "1_ETL_IMAGES.html#estandarizaci√≥n-de-las-im√°genes",
    "title": "2¬† ETL -IMAGES",
    "section": "2.3 Estandarizaci√≥n de las im√°genes",
    "text": "2.3 Estandarizaci√≥n de las im√°genes\nLas im√°genes fueron procesadas siguiendo un pipeline estandarizado orientado a:\n\nReorientaci√≥n al sistema anat√≥mico RAS.\nResampleo a una resoluci√≥n isotr√≥pica de 1.0 mm.\nRedimensionamiento a un shape uniforme de 160√ó192√ó192 voxeles.\nNormalizaci√≥n de intensidades mediante Z‚Äêscore.\nExportaci√≥n a formato NumPy (.npy) para uso en modelos 3D.\n\n\n\nCode\n# Medidas m√°s comunes\ndisplay(out['orientation'].value_counts().to_frame())\ndisplay(out['shape'].value_counts().to_frame().head(3))\ndisplay(out['voxel_size'].value_counts().to_frame().head(3))\n\n\n\n\n\n\n\n\n\ncount\n\n\norientation\n\n\n\n\n\n(R, A, S)\n192\n\n\n(P, S, R)\n28\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ncount\n\n\nshape\n\n\n\n\n\n(166, 256, 256)\n79\n\n\n(160, 192, 192)\n77\n\n\n(180, 256, 256)\n25\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ncount\n\n\nvoxel_size\n\n\n\n\n\n(1.2, 0.9375, 0.9375)\n97\n\n\n(1.2, 1.25, 1.25)\n75\n\n\n(0.9375, 0.9375, 1.2)\n27\n\n\n\n\n\n\n\n\n\nCode\nimport shutil\n\ndef preprocess_mri_folder(\n        BASE_DIR  = Path(r\"C:\\Users\\usuario\\MRI\\IMAGES_NII\"),\n        output_folder=r\"C:\\Users\\usuario\\MRI\\IMAGES_npy\",\n        target_shape=(160,192,192),\n        target_spacing=(1.0,1.0,1.0)\n    ):\n    \n    if os.path.exists(output_folder):\n        print(\"üßπ Limpiando carpeta de salida...\")\n        shutil.rmtree(output_folder)\n    os.makedirs(output_folder, exist_ok=True)\n\n    # Encuentra TODOS los .nii y .nii.gz dentro de todas las carpetas\n    nii_files = list(BASE_DIR.rglob(\"*.nii\")) + list(BASE_DIR.rglob(\"*.nii.gz\"))\n\n    print(f\"Total im√°genes encontradas: {len(nii_files)}\")\n\n    for fname in tqdm(nii_files, desc=\"Procesando MRI\", unit=\"img\"):\n        #print(f\"\\nProcesando: {fname}\")\n\n        # ----------------------\n        # 1) Cargar imagen y orientar a RAS\n        # ----------------------\n        img = sitk.ReadImage(os.path.join(BASE_DIR, fname))\n        img = sitk.DICOMOrient(img, \"RAS\")\n\n        # ----------------------\n        # 2) Resamplear a voxel 1.0 mm\n        # ----------------------\n        original_spacing = img.GetSpacing()\n        original_size = img.GetSize()\n\n        new_size = [\n            int(round(original_size[i] * (original_spacing[i] / target_spacing[i])))\n            for i in range(3)\n        ]\n\n        resampler = sitk.ResampleImageFilter()\n        resampler.SetInterpolator(sitk.sitkLinear)\n        resampler.SetOutputSpacing(target_spacing)\n        resampler.SetSize(new_size)\n        resampler.SetOutputDirection(img.GetDirection())\n        resampler.SetOutputOrigin(img.GetOrigin())\n\n        img_resampled = resampler.Execute(img)\n\n        # Convertir a numpy\n        arr = sitk.GetArrayFromImage(img_resampled)  # (D,H,W)\n\n        # ----------------------\n        # 3) Ajustar tama√±o a (160,192,192)\n        #    ‚Äî Crop o pad autom√°tico\n        # ----------------------\n        def resize_to_shape(volume, target):\n            out = np.zeros(target, dtype=volume.dtype)\n            \n            # c√°lculo de offsets\n            d, h, w = volume.shape\n            td, th, tw = target\n            \n            # l√≠mites\n            d0 = max((td - d)//2, 0); d1 = d0 + min(d, td)\n            h0 = max((th - h)//2, 0); h1 = h0 + min(h, th)\n            w0 = max((tw - w)//2, 0); w1 = w0 + min(w, tw)\n            \n            vd0 = max((d - td)//2, 0); vd1 = vd0 + min(d, td)\n            vh0 = max((h - th)//2, 0); vh1 = vh0 + min(h, th)\n            vw0 = max((w - tw)//2, 0); vw1 = vw0 + min(w, tw)\n            \n            out[d0:d1, h0:h1, w0:w1] = volume[vd0:vd1, vh0:vh1, vw0:vw1]\n            return out\n\n        arr = resize_to_shape(arr, target_shape)\n\n        # ----------------------\n        # 4) Normalizar intensidad (z-score)\n        # ----------------------\n        arr = arr.astype(np.float32)\n        m = np.mean(arr)\n        s = np.std(arr) + 1e-6\n        arr = (arr - m) / s\n\n        # ----------------------\n        # 5) Guardar como .npy\n        # ----------------------\n        \n        subject_id = fname.parents[3].name\n        image_id = fname.parents[0].name\n\n        out_name = f\"{subject_id}_{image_id}.npy\"\n        out_path = os.path.join(output_folder, out_name)\n        \n        np.save(out_path, arr)\n\n        #print(f\"‚úî Guardado: {out_path}\")\n\n    print(\"\\nüéâ Procesamiento completado.\")\n\n\n# Ejecutar\npreprocess_mri_folder()\n\n\nüßπ Limpiando carpeta de salida...\nTotal im√°genes encontradas: 220\n\n\nProcesando MRI: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 220/220 [00:46&lt;00:00,  4.70img/s]\n\n\n\nüéâ Procesamiento completado.",
    "crumbs": [
      "<span class='chapter-number'>2</span>¬† <span class='chapter-title'>**ETL -IMAGES**</span>"
    ]
  },
  {
    "objectID": "2_EDA.html",
    "href": "2_EDA.html",
    "title": "3¬† An√°lisis Exploratorio de Datos",
    "section": "",
    "text": "3.1 DATOS TABULARES\nLas im√°genes utilizadas en este estudio provienen de la iniciativa Alzheimer‚Äôs Disease Neuroimaging Initiative (ADNI), un repositorio internacional de neuroim√°genes longitudinales. Se seleccionaron exclusivamente im√°genes estructurales T1‚Äêponderadas (MRI) correspondientes a sujetos con diagn√≥stico deterioro cognitivo leve (MCI) y demencia tipo Alzheimer (AD).\nEl dataset tabular proviene de los datos cl√≠nicos y neuropsicol√≥gicos asociados a las mismas visitas de imagen, conteniendo informaci√≥n sociodemogr√°fica, gen√©tica, diagn√≥stica y volum√©trica (FreeSurfer).\nCode\n# [Config] Rutas\ndf_tab = pd.read_csv(\"../Data/TABULAR.csv\")\ndf_dx = pd.read_csv('../Data/ANDI_out.csv')\nCode\n# Caracteristicas\nprint(\"CARACTER√çSTICAS\\n\")\nprint(\"======================\"\n      f\"\\nüíø Im√°genes: {len(df_tab)}\"\n      f\"\\nüë®‚Äçü¶≥ Cantidad de pacientes: {df_dx['sujeto_id'].nunique()}\"\n      f\"\\n‚è∫Ô∏è Vistas dispobibles: {df_dx['Visit'].nunique()}, en los meses {df_tab['Visita'].unique()}\"\n      \"\\n======================\"\n)\n\n# Progeso de la enfermedad\nlabels_por_sujeto = df_tab.groupby(\"sujeto_id\")[\"label\"].first()\ntabla_1 = pd.DataFrame({\n    \"conteo\": labels_por_sujeto.value_counts(),\n    \"porcentaje\": labels_por_sujeto.value_counts(normalize=True).mul(100).round(2)\n})\ntabla_1.index = tabla_1.index.map({0: \"No progreso\", 1: \"Progreso\"})\ndisplay(tabla_1.style.set_caption(\"Distribuci√≥n del progreso de la enfermedad\"))\n\n# Im√°gnes\ntabla_2 = pd.DataFrame({\n    \"conteo\": df_tab[\"is_dementia\"].value_counts(),\n    \"porcentaje\": df_tab[\"is_dementia\"].value_counts(normalize=True).mul(100).round(2)\n})\ntabla_2.index = tabla_2.index.map({0: \"MCI\", 1: \"Dementia\"})\ndisplay(tabla_2.style.set_caption(\"Distribuci√≥n de im√°genes con Dementia\"))\n\n# Edad\nprint(\"======================\"\n      f\"\\n#Ô∏è‚É£ Edad de los pacientes:\"\n      f\"\\nM√≠n: {df_tab['Age'].min()} | M√°x: {df_tab['Age'].max()} | Mean: {df_tab['Age'].mean().round(2)}\"\n      \"\\n======================\"\n)\n\n# Sexo\nsex = df_tab.groupby(\"sujeto_id\")[\"Sexo\"].first()\ntabla_3 = pd.DataFrame({\n    \"conteo\": sex.value_counts(),\n    \"porcentaje\": sex.value_counts(normalize=True).mul(100).round(2)\n})\ntabla_3.index = tabla_3.index.map({0: \"Masculino\", 1: \"Femenino\"})\ndisplay(tabla_3.style.set_caption(\"Distribuci√≥n del sexo\"))\n\n# Nivel educativo\neducat = {\n    10: \"10 a√±os (b√°sica incompleta)\",\n    12: \"12 a√±os (secundaria completa)\",\n    13: \"13 a√±os (secundaria + 1 a√±o)\",\n    14: \"14 a√±os (preuniversitario)\",\n    16: \"16 a√±os (licenciatura)\",\n    17: \"17 a√±os (posgrado parcial)\",\n    18: \"18 a√±os (maestr√≠a)\",\n    19: \"19 a√±os (posgrado incompleto)\",\n    20: \"20 a√±os (doctorado/profesional)\"\n}\ntabla_4 = pd.DataFrame({\n    \"conteo\": df_tab[\"Educat\"].value_counts(),\n    \"porcentaje\": df_tab[\"Educat\"].value_counts(normalize=True).mul(100).round(2)\n})\ntabla_4.index = tabla_4.index.map(educat)\ndisplay(tabla_4.style.set_caption(\"Distribuci√≥n de nivel educativo\"))\n\n\nCARACTER√çSTICAS\n\n======================\nüíø Im√°genes: 220\nüë®‚Äçü¶≥ Cantidad de pacientes: 51\n‚è∫Ô∏è Vistas dispobibles: 7, en los meses [ 6 12 18 24 36 48 60]\n======================\n\n\n\n\n\n\n\nTable¬†3.1: Distribuci√≥n del progreso de la enfermedad\n\n\n\n\n\n¬†\nconteo\nporcentaje\n\n\nlabel\n¬†\n¬†\n\n\n\n\nNo progreso\n31\n60.780000\n\n\nProgreso\n20\n39.220000\n\n\n\n\n\n\n\n\n\n\n\n\n\nTable¬†3.2: Distribuci√≥n de im√°genes con Dementia\n\n\n\n\n\n¬†\nconteo\nporcentaje\n\n\nis_dementia\n¬†\n¬†\n\n\n\n\nMCI\n158\n71.820000\n\n\nDementia\n62\n28.180000\n\n\n\n\n\n\n\n\n======================\n#Ô∏è‚É£ Edad de los pacientes:\nM√≠n: 61 | M√°x: 91 | Mean: 75.79\n======================\n\n\n\n\n\n\n\nTable¬†3.3: Distribuci√≥n del sexo\n\n\n\n\n\n¬†\nconteo\nporcentaje\n\n\nSexo\n¬†\n¬†\n\n\n\n\nMasculino\n38\n74.510000\n\n\nFemenino\n13\n25.490000\n\n\n\n\n\n\n\n\n\n\n\n\n\nTable¬†3.4: Distribuci√≥n de nivel educativo\n\n\n\n\n\n¬†\nconteo\nporcentaje\n\n\nEducat\n¬†\n¬†\n\n\n\n\n16 a√±os (licenciatura)\n62\n28.180000\n\n\n18 a√±os (maestr√≠a)\n53\n24.090000\n\n\n20 a√±os (doctorado/profesional)\n31\n14.090000\n\n\n19 a√±os (posgrado incompleto)\n19\n8.640000\n\n\n12 a√±os (secundaria completa)\n17\n7.730000\n\n\n14 a√±os (preuniversitario)\n14\n6.360000\n\n\n10 a√±os (b√°sica incompleta)\n13\n5.910000\n\n\n17 a√±os (posgrado parcial)\n6\n2.730000\n\n\n13 a√±os (secundaria + 1 a√±o)\n5\n2.270000\nVariables Volum√©tricas",
    "crumbs": [
      "<span class='chapter-number'>3</span>¬† <span class='chapter-title'>**An√°lisis Exploratorio de Datos**</span>"
    ]
  },
  {
    "objectID": "2_EDA.html#descripci√≥n-del-conjunto-de-datos",
    "href": "2_EDA.html#descripci√≥n-del-conjunto-de-datos",
    "title": "3¬† An√°lisis Exploratorio de Datos",
    "section": "3.2 1. Descripci√≥n del conjunto de datos",
    "text": "3.2 1. Descripci√≥n del conjunto de datos\n\n\nCode\n# []\nprint(\"-\" * 30)\nprint(\"üìÅ Informaci√≥n general:\")\nprint(f\"\\nDimensi√≥n: {df.shape[0]} Im√°genes disponibles √ó {df.shape[1]} atributos\")\nprint(f\"\\nTipo de atributos: \\n{df.dtypes.value_counts()}\")\nprint(\"-\" * 30)\nprint(f\"üë¶ {df['sujeto_id'].nunique()} sujetos en estudio\")\n\n\n------------------------------\nüìÅ Informaci√≥n general:\n\nDimensi√≥n: 279 Im√°genes disponibles √ó 35 atributos\n\nTipo de atributos: \nfloat64           22\nobject            11\nint64              1\ndatetime64[ns]     1\nName: count, dtype: int64\n------------------------------\nüë¶ 51 sujetos en estudio\n\n\nEl conjunto de datos esta compuesto por 279 im√°genes asociadas a 51 sujetos, donde se dispone de multiples im√°genes por paciente. En total, se registran 34 atributos por imagen.\n\n\nCode\nprint(\"-\" * 30)\nprint(\"üìÅ Valores nulos:\")\nprint(f\"Variables con valores nulos:\")\nnulos = df.isna().sum()\nporcentaje = (nulos / len(df)) * 100\ntabla_nulos = pd.DataFrame({\n    \"Variable\": nulos.index,\n    \"Cantidad_nulos\": nulos.values,\n    \"Porcentaje_nulos\": porcentaje.round(2)\n})\ntabla_nulos = tabla_nulos[tabla_nulos[\"Cantidad_nulos\"] &gt; 0]\ntabla_nulos = tabla_nulos.sort_values(by=\"Cantidad_nulos\", ascending=False).reset_index(drop=True)\ntabla_nulos\n\n\n------------------------------\nüìÅ Valores nulos:\nVariables con valores nulos:\n\n\n\n\n\n\n\n\n\nVariable\nCantidad_nulos\nPorcentaje_nulos\n\n\n\n\n0\nHippocampus\n67\n24.01\n\n\n1\nMidTemp\n67\n24.01\n\n\n2\nFusiform\n67\n24.01\n\n\n3\nEntorhinal\n67\n24.01\n\n\n4\nICV\n38\n13.62\n\n\n5\nWholeBrain\n38\n13.62\n\n\n6\nVentricles\n38\n13.62\n\n\n7\nFAQ\n31\n11.11\n\n\n8\nTRABSCOR\n31\n11.11\n\n\n9\nRAVLT_forgetting\n30\n10.75\n\n\n10\nCDRSB\n30\n10.75\n\n\n11\nDIGITSCOR\n29\n10.39\n\n\n12\nRAVLT_learning\n29\n10.39\n\n\n13\nRAVLT_immediate\n29\n10.39\n\n\n14\nADAS13\n29\n10.39\n\n\n15\nMMSE\n28\n10.04\n\n\n16\nDX\n28\n10.04\n\n\n\n\n\n\n\n\n\nCode\n# DX con valores nulos\nprint(\"-\" * 30)\nprint(\"üìÅ DX con valores nulos:\")\nprint(f\"Registros con DX nulos: {df['DX'].isna().sum()}\")\nporcentaje_nulo = df[\"DX\"].isna().mean() * 100\nprint(f\"{porcentaje_nulo:.2f}% de los registros no tienen DX asignado.\")\ndf_dx_nulo = df[df[\"DX\"].isna()]\nprint(f\"Diagnosticos nulos en las vistas: {df_dx_nulo['VISCODE'].unique()}\")\nprint(\"-\" * 30)\nprint(df_dx_nulo[[\"sujeto_id\", \"VISCODE\", \"EXAMDATE\", \"DX\"]])\n\n\n\n------------------------------\nüìÅ DX con valores nulos:\nRegistros con DX nulos: 28\n10.04% de los registros no tienen DX asignado.\nDiagnosticos nulos en las vistas: [30]\n------------------------------\n      sujeto_id  VISCODE   EXAMDATE   DX\n5    007_S_0101       30 2008-07-18  NaN\n12   007_S_0128       30 2008-08-20  NaN\n18   007_S_0249       30 2008-10-01  NaN\n29   014_S_0169       30 2008-09-16  NaN\n48   018_S_0142       30 2008-08-20  NaN\n54   018_S_0155       30 2008-10-06  NaN\n60   021_S_0141       30 2008-09-09  NaN\n72   021_S_0273       30 2008-10-13  NaN\n78   021_S_0276       30 2008-10-01  NaN\n84   022_S_0004       30 2008-05-08  NaN\n90   023_S_0042       30 2008-06-24  NaN\n97   023_S_0126       30 2008-10-23  NaN\n104  027_S_0116       30 2008-08-18  NaN\n115  027_S_0256       30 2008-10-16  NaN\n122  027_S_0307       30 2008-10-30  NaN\n134  032_S_0214       30 2008-10-16  NaN\n147  035_S_0204       30 2008-09-26  NaN\n157  037_S_0150       30 2008-09-10  NaN\n178  067_S_0176       30 2008-11-20  NaN\n184  098_S_0160       30 2008-08-20  NaN\n190  098_S_0269       30 2008-10-16  NaN\n196  099_S_0051       30 2008-06-20  NaN\n216  100_S_0006       30 2008-06-12  NaN\n228  123_S_0108       30 2008-08-25  NaN\n242  128_S_0225       30 2008-11-10  NaN\n259  130_S_0285       30 2008-10-21  NaN\n266  130_S_0289       30 2008-09-30  NaN\n272  136_S_0107       30 2008-09-02  NaN\n\n\nSe identifican 28 registros (10.04%) sin diagn√≥stico asignado (DX = NaN), todos correspondientes a la visita de seguimiento de los 30 meses (VISCODE = 30). Esto revela un patr√≥n sistem√°tico de ausencia de datos, m√°s que una p√©rdida aleatoria. Este patr√≥n sugiere que la ausencia del diagn√≥stico no est√° relacionada con un error de captura, sino con la estructura temporal del estudio, donde algunas sesiones pueden incluir √∫nicamente medidas de imagen o datos intermedios sin clasificaci√≥n cl√≠nica.",
    "crumbs": [
      "<span class='chapter-number'>3</span>¬† <span class='chapter-title'>**An√°lisis Exploratorio de Datos**</span>"
    ]
  },
  {
    "objectID": "2_EDA.html#propiedades-t√©cnicas-de-las-im√°genes",
    "href": "2_EDA.html#propiedades-t√©cnicas-de-las-im√°genes",
    "title": "3¬† An√°lisis Exploratorio de Datos",
    "section": "3.3 2. Propiedades t√©cnicas de las im√°genes",
    "text": "3.3 2. Propiedades t√©cnicas de las im√°genes\n\n\nCode\n# [] Formato de imagen - Orientaci√≥n - Tipo de dato y unidades\nshape_counts = df[\"shape\"].value_counts() #Formatos de imagen\norint_counts = df[\"orientation\"].value_counts() #Orientaci√≥n espacial\n\ntabla_shape= pd.DataFrame({\n    \"Shape\": shape_counts.index,\n    \"Im√°genes\": shape_counts.values\n})\n\ntabla_orientarion= pd.DataFrame({\n    \"Orientaci√≥n\": orint_counts.index,\n    \"Im√°genes\": orint_counts.values\n})\n\nprint(\"\\nFormatos de imagen:\")\nprint(tabla_shape)\n\nprint(\"\\nOrientaci√≥n:\")\nprint(tabla_orientarion)\n\nprint(f\"\\nTipos de datos {df['datatype'].unique()} \\nUnidades {df['units'].unique()}\") #Tipo de dato y unidades\n\n\n\nFormatos de imagen:\n             Shape  Im√°genes\n0  (160, 192, 192)        99\n1  (166, 256, 256)        89\n2  (180, 256, 256)        35\n3  (256, 256, 170)        34\n4  (256, 256, 184)         9\n5  (170, 256, 256)         6\n6  (160, 240, 256)         4\n7  (176, 256, 256)         1\n8  (170, 288, 288)         1\n9  (162, 256, 256)         1\n\nOrientaci√≥n:\n       Orientaci√≥n  Im√°genes\n0  ('R', 'A', 'S')       236\n1  ('P', 'S', 'R')        43\n\nTipos de datos ['int16'] \nUnidades [\"('mm', 'sec')\"]\n\n\nEl conjunto de im√°genes presenta una diversidad moderada en sus dimensiones espaciales, con un total de 10 configuraciones distintas de tama√±o (shape). El formato m√°s com√∫n es (160, 192, 192), correspondiente a 99 im√°genes, seguido por (166, 256, 256) con 89 im√°genes, lo que indica que existe una variabilidad entre protocolos o esc√°neres de adquisici√≥n. Esta heterogeneidad en las dimensiones (ejes de voxeles) sugiere que las im√°genes provienen de diferentes estudios o centros cl√≠nicos, posiblemente con distintos par√°metros de adquisici√≥n. Por tanto, antes de realizar cualquier modelado, ser√° necesario homogeneizar las dimensiones mediante re-escalado o re-muestreo volum√©trico para garantizar la comparabilidad entre sujetos.\nEn cuanto a la orientaci√≥n espacial, la mayor√≠a de las im√°genes (236 de 279) est√°n alineadas bajo el sistema est√°ndar (‚ÄòR‚Äô, ‚ÄòA‚Äô, ‚ÄòS‚Äô), que indica los ejes Right‚ÄìAnterior‚ÄìSuperior, mientras que un grupo menor (43 im√°genes) sigue la orientaci√≥n (‚ÄòP‚Äô, ‚ÄòS‚Äô, ‚ÄòR‚Äô). Esta diferencia puede generar inconsistencias visuales al entrenar los modelos utilizando a los distintos sujetos, por lo que se tendria que reorientar todas las imagenes a un marco anat√≥mico com√∫n.\n\n¬øComo interpretar los marcos de Orientaci√≥n Espacial? - ‚ÄòR‚Äô, ‚ÄòL‚Äô: Right / Left (derecha / izquierda). - ‚ÄòA‚Äô, ‚ÄòP‚Äô: Anterior / Posterior (frontal / trasera). - ‚ÄòS‚Äô, ‚ÄòI‚Äô: Superior / Inferior (arriba / abajo).\nPor ejemplo: - (‚ÄòR‚Äô, ‚ÄòA‚Äô, ‚ÄòS‚Äô): Ejes orientados hacia la derecha, adelante y arriba. - (‚ÄòP‚Äô, ‚ÄòS‚Äô, ‚ÄòR‚Äô): Ejes hacia atr√°s, arriba y derecha ‚Äî diferente orden y direcci√≥n.\n\n\n\nCode\n# Resoluciones de voxel\nvoxel_counts = df[\"voxel_size\"].value_counts()\nvolumen_counts = df[\"voxel_volume_mm3\"].value_counts()\ntotal_counts = df[\"total_volume\"].value_counts()\n\ntabla_voxel= pd.DataFrame({\n    \"Voxel\": voxel_counts.index,\n    \"Im√°genes\": voxel_counts.values\n})\ntabla_volum= pd.DataFrame({\n    \"Volumen\": volumen_counts.index,\n    \"Im√°genes\": volumen_counts.values\n})\ntabla_total= pd.DataFrame({\n    \"Volumen total\": total_counts.index,\n    \"Im√°genes\": total_counts.values\n})\n\nprint(\"\\nResoluciones de voxel:\")\nprint(tabla_voxel)\nprint(\"\\nVolumen de voxel:\")\nprint(tabla_volum)\nprint(\"\\nVolumen estimado:\")\nprint(tabla_total)\n\n\n\nResoluciones de voxel:\n                          Voxel  Im√°genes\n0         (1.2, 0.9375, 0.9375)       113\n1             (1.2, 1.25, 1.25)        97\n2         (0.9375, 0.9375, 1.2)        41\n3   (1.1998978, 0.9375, 0.9375)         6\n4               (1.2, 1.0, 1.0)         4\n5   (1.1996994, 0.9375, 0.9375)         3\n6   (1.1996002, 0.9375, 0.9375)         3\n7         (1.2, 0.9766, 0.9766)         1\n8   (1.2, 0.8680556, 0.8680556)         1\n9   (0.9765625, 0.9765625, 1.2)         1\n10        (1.1999999, 1.0, 1.0)         1\n11              (1.0, 1.0, 1.2)         1\n12    (1.2, 0.976562, 0.976562)         1\n13  (1.1996994, 0.9766, 0.9766)         1\n14  (1.2001953, 0.9375, 0.9375)         1\n15  (1.2003021, 0.9375, 0.9375)         1\n16  (1.2, 1.2760416, 1.2760416)         1\n17  (1.2, 1.3020834, 1.3020834)         1\n18   (1.199884, 0.9375, 0.9375)         1\n\nVolumen de voxel:\n     Volumen  Im√°genes\n0   1.054688       154\n1   1.875000        97\n2   1.054598         6\n3   1.200000         5\n4   1.054423         3\n5   1.054336         3\n6   1.144497         1\n7   0.904225         1\n8   1.144409         1\n9   1.200000         1\n10  1.144408         1\n11  1.144210         1\n12  1.054859         1\n13  1.054953         1\n14  1.953939         1\n15  2.034505         1\n16  1.054586         1\n\nVolumen estimado:\n    Volumen total  Im√°genes\n0    1.105920e+07        97\n1    1.147392e+07        73\n2    1.175040e+07        37\n3    1.244160e+07        34\n4    1.271808e+07         9\n5    1.147294e+07         6\n6    1.179648e+07         4\n7    1.147105e+07         3\n8    1.147010e+07         3\n9    1.147579e+07         1\n10   1.244999e+07         1\n11   1.244473e+07         1\n12   1.244784e+07         1\n13   1.245096e+07         1\n14   1.152480e+07         1\n15   1.200000e+07         1\n16   1.336934e+07         1\n17   1.384120e+07         1\n18   1.275000e+07         1\n19   1.275000e+07         1\n20   1.174926e+07         1\n21   1.119744e+07         1\n\n\nLas im√°genes presentan variabilidad en la resoluci√≥n de voxel, con dos configuraciones predominantes: (1.2, 0.9375, 0.9375) y (1.2, 1.25, 1.25), que abarcan m√°s del 75% del total. Esta diferencia refleja el uso de distintos protocolos o esc√°neres, lo que hace necesario re-escalar y normalizar las im√°genes antes del an√°lisis. Los vol√∫menes cerebrales estimados (~1.1√ó10‚Å∑‚Äì1.3√ó10‚Å∑ mm¬≥) son coherentes con medidas anat√≥micas normales, confirmando una buena calidad de la base de datos.\n\n\nCode\n# Intensidad de imagen\nprint(\"Intensidad de la imagen\")\nprint(\"-\" * 30)\n# Brillo\nresumen_mean = df['mean_intensity'].describe().round(2).to_frame(name='mean_intensity')\nresumen_mean.index.name = 'Brillo'\nprint(resumen_mean)\nprint(\"-\" * 30)\n# Contraste\nresumen_std = df['std_intensity'].describe().round(2).to_frame(name='std_intensity')\nresumen_std.index.name = 'Contraste'\nprint(resumen_std)\n\n\nIntensidad de la imagen\n------------------------------\n        mean_intensity\nBrillo                \ncount           279.00\nmean          32013.94\nstd           71216.46\nmin              11.66\n25%             101.73\n50%             127.50\n75%             274.09\nmax          363261.17\n------------------------------\n           std_intensity\nContraste               \ncount             279.00\nmean            47971.67\nstd            107668.61\nmin                16.62\n25%               132.22\n50%               168.22\n75%               369.50\nmax            579786.68\n\n\nEl brillo promedio (media de intensidades) es de ‚âà 32013 unidades, con una desviaci√≥n est√°ndar muy alta (71216), y un rango que va desde 11.66 hasta 363261. Esta dispersi√≥n indica que las im√°genes no se encuentran normalizadas en escala de intensidad, lo cual podr√≠a deberse a la combinaci√≥n de datos provenientes de diferentes esc√°neres o secuencias de MRI (T1 vs T2). La presencia de valores m√°ximos extremadamente altos sugiere que algunas im√°genes podr√≠an estar en diferentes unidades o escalas de cuantificaci√≥n.\nEn cuanto al contraste (desviaci√≥n est√°ndar de intensidades), se observa un valor medio de ‚âà 47971, con una desviaci√≥n est√°ndar tambi√©n elevada (107668). Este comportamiento refuerza la idea de heterogeneidad radiom√©trica, donde algunas im√°genes presentan distribuciones de intensidad muy planas (bajo contraste), mientras que otras muestran mayor separaci√≥n entre tejidos.\n\n\nCode\nplt.figure(figsize=(8, 2))\ndf['mean_intensity'].plot.box(vert=False)\nplt.title(\"Distribuci√≥n de intensidad media\")\nplt.xlabel(\"Brillo\")\n\nplt.figure(figsize=(8, 2))\ndf['std_intensity'].plot.box(vert=False)\nplt.title(\"Distribuci√≥n de desviaci√≥n est√°ndar intensidad est√°ndar\")\nplt.xlabel(\"Contraste\")\nplt.show()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Configuraci√≥n mayoritaria de las im√°genes\nvariables = {\n    \"shape\": df[\"shape\"],\n    \"orientation\": df[\"orientation\"],\n    \"voxel_size\": df[\"voxel_size\"],\n    \"voxel_volume_mm3\": df[\"voxel_volume_mm3\"],\n    \"total_volume\": df[\"total_volume\"]\n}\n\n# Construir tabla resumen\nresumen = []\n\nfor nombre, serie in variables.items():\n    valor_frecuente = serie.value_counts().idxmax()\n    cantidad_frecuente = serie.value_counts().max()\n    cantidad_diferente = (serie != valor_frecuente).sum()\n    \n    resumen.append({\n        \"Variable\": nombre,\n        \"M√°s frecuente\": valor_frecuente,\n        \"Cantidad\": cantidad_frecuente,\n        \"Diferentes\": cantidad_diferente\n    })\n\ntabla_resumen = pd.DataFrame(resumen)\nprint(tabla_resumen)\n\n\n           Variable          M√°s frecuente  Cantidad  Diferentes\n0             shape        (160, 192, 192)        99         180\n1       orientation        ('R', 'A', 'S')       236          43\n2        voxel_size  (1.2, 0.9375, 0.9375)       113         166\n3  voxel_volume_mm3               1.054688       154         125\n4      total_volume             11059200.0        97         182\n\n\nAl observar la configuraci√≥n de las im√°genes, se aprecia que el conjunto de datos no es completamente uniforme, aunque s√≠ existen algunos patrones claros.\nLa mayor√≠a de las im√°genes comparten una forma de 160 √ó 192 √ó 192 voxeles, lo que indica que varias provienen de un mismo protocolo o tipo de esc√°ner. En cuanto a la orientaci√≥n, la m√°s com√∫n es (‚ÄòR‚Äô, ‚ÄòA‚Äô, ‚ÄòS‚Äô), es decir, Right‚ÄìAnterior‚ÄìSuperior. Esto quiere decir que la mayor√≠a de las im√°genes est√°n alineadas en el mismo sentido anat√≥mico, lo cual es positivo, ya que facilita la comparaci√≥n y el an√°lisis conjunto de los vol√∫menes.\nTambi√©n se observa que muchos estudios comparten una resoluci√≥n de voxel de (1.2, 0.9375, 0.9375) mm, con un volumen de aproximadamente 1.05 mm¬≥, lo que refleja una buena calidad espacial de las im√°genes. Aun as√≠, la presencia de muchas combinaciones diferentes de resoluci√≥n y tama√±o de voxel indica que ser√° necesario unificar las caracter√≠sticas espaciales antes de realizar an√°lisis m√°s avanzados o entrenar modelos.\n\n\nCode\n# Im√°genes con brillo y contraste outliers\ndef detectar_outliers_iqr(serie, nombre_columna):\n    \"\"\"\n    Devuelve un DataFrame con los valores outliers de una columna num√©rica seg√∫n el m√©todo IQR.\n    \"\"\"\n    Q1 = serie.quantile(0.25)\n    Q3 = serie.quantile(0.75)\n    IQR = Q3 - Q1\n    limite_inferior = Q1 - 1.5 * IQR\n    limite_superior = Q3 + 1.5 * IQR\n\n    outliers = (serie &lt; limite_inferior) | (serie &gt; limite_superior)\n    print(f\"üîπ{nombre_columna}: {outliers.sum()} outliers detectados\")\n    return outliers\n\ndf[\"outlier_mean_intensity\"] = detectar_outliers_iqr(df[\"mean_intensity\"], \"mean_intensity\")\ndf[\"outlier_std_intensity\"] = detectar_outliers_iqr(df[\"std_intensity\"], \"std_intensity\")\n\n# Etiqueta combinada de calidad\ndf[\"calidad_intensidad\"] = \"ok\"\ndf.loc[df[\"outlier_mean_intensity\"], \"calidad_intensidad\"] = \"outlier_media\"\ndf.loc[df[\"outlier_std_intensity\"], \"calidad_intensidad\"] = \"outlier_contraste\"\ndf.loc[df[\"outlier_mean_intensity\"] & df[\"outlier_std_intensity\"], \"calidad_intensidad\"] = \"outlier_ambos\"\n\n\n\nüîπmean_intensity: 50 outliers detectados\nüîπstd_intensity: 50 outliers detectados\n\n\n\n\nCode\n# Puntaje de calidad \n\nshape_fr = df[\"shape\"].value_counts().idxmax()\norien_fr = df[\"orientation\"].value_counts().idxmax()\nvoxel_fr = df[\"voxel_size\"].value_counts().idxmax()\nvolum_fr = df[\"voxel_volume_mm3\"].value_counts().idxmax()\ntotal_fr = df[\"total_volume\"].value_counts().idxmax()\n\n# Criterios de calidad\ndf[\"fail_shape\"] = df[\"shape\"] != shape_fr\ndf[\"fail_orientation\"] = df[\"orientation\"] != orien_fr\ndf[\"fail_voxel_size\"] = df[\"voxel_size\"] != voxel_fr\ndf[\"fail_voxel_volume\"] = df[\"voxel_volume_mm3\"] != volum_fr\ndf[\"fail_total_volume\"] = df[\"total_volume\"] != total_fr\n\n# Outliers de intensidad\ndef detectar_outliers_iqr(serie):\n    Q1 = serie.quantile(0.25)\n    Q3 = serie.quantile(0.75)\n    IQR = Q3 - Q1\n    return (serie &lt; Q1 - 1.5 * IQR) | (serie &gt; Q3 + 1.5 * IQR)\n\ndf[\"fail_mean_intensity\"] = detectar_outliers_iqr(df[\"mean_intensity\"])\ndf[\"fail_std_intensity\"] = detectar_outliers_iqr(df[\"std_intensity\"])\n\n# Puntaje total de fallos por imagen\ndf[\"puntaje_calidad\"] = (\n    df[\"fail_shape\"].astype(int) +\n    df[\"fail_orientation\"].astype(int) +\n    df[\"fail_voxel_size\"].astype(int) +\n    df[\"fail_voxel_volume\"].astype(int) +\n    df[\"fail_total_volume\"].astype(int) +\n    df[\"fail_mean_intensity\"].astype(int) +\n    df[\"fail_std_intensity\"].astype(int)\n)\nresumen_puntajes = df[\"puntaje_calidad\"].value_counts().sort_index()\nprint(\" Distribuci√≥n de puntajes de calidad:\")\nresumen_puntajes= pd.DataFrame({\n    \"Puntaje\": resumen_puntajes.index,\n    \"Im√°genes\": resumen_puntajes.values\n})\nprint(resumen_puntajes)\n\n\n Distribuci√≥n de puntajes de calidad:\n   Puntaje  Im√°genes\n0        2       205\n1        3         2\n2        4        27\n3        6        43\n4        7         2\n\n\nEl puntaje de calidad asignado a cada imagen indica el nivel de degradaci√≥n o corrupci√≥n presente en ella, donde valores m√°s bajos reflejan mayor calidad visual y, por tanto, menor distorsi√≥n.\nLa gran mayor√≠a de las im√°genes (205) tienen un puntaje de 2, lo que indica una alta calidad general del conjunto y poca presencia de artefactos o errores de procesamiento. Solo 2 im√°genes presentan un puntaje de 3, y 27 im√°genes alcanzan un puntaje de 4, lo que sugiere ligeras degradaciones sin impacto significativo. En contraste, 43 im√°genes presentan un puntaje de 6, y 2 im√°genes alcanzan 7, reflejando un nivel de corrupci√≥n elevado, posiblemente debido a ruido, p√©rdida de resoluci√≥n o errores de adquisici√≥n.\n\n\nCode\n\n# Cargar imagen\nimg = nib.load(r\"C:\\Users\\Hp\\MACHINE\\MRI\\Datos\\IMAGES\\021_S_0273\\MP-RAGE\\2006-03-14_10_55_38.0\\I11942\\ADNI_11M4_BC_4.nii\")\ndata = img.get_fdata()\n\n# Seleccionar 5 cortes equiespaciados en el eje axial (z)\nnum_cortes = 5\nindices = np.linspace(0, data.shape[2] - 1, num_cortes, dtype=int)\n\n# Mostrar los cortes\nplt.figure(figsize=(15, 5))\nfor i, idx in enumerate(indices):\n    plt.subplot(1, num_cortes, i + 1)\n    plt.imshow(data[:, :, idx], cmap=\"gray\")\n    plt.title(f\"Corte z={idx}\")\n    plt.axis(\"off\")\n\nplt.suptitle(\"Cortes axiales seleccionados\")\nplt.tight_layout()\nplt.show()",
    "crumbs": [
      "<span class='chapter-number'>3</span>¬† <span class='chapter-title'>**An√°lisis Exploratorio de Datos**</span>"
    ]
  },
  {
    "objectID": "2_EDA.html#sobre-el-paciente",
    "href": "2_EDA.html#sobre-el-paciente",
    "title": "3¬† An√°lisis Exploratorio de Datos",
    "section": "3.4 3. Sobre el paciente",
    "text": "3.4 3. Sobre el paciente\n\n\nCode\n# Crear DataFrame resumen por sujeto\ninfo_sujetos = df.groupby('sujeto_id').agg({\n    'AGE': 'mean',         # Edad\n    'PTGENDER': 'first',   # g√©nero\n    'PTEDUCAT': 'first',   # educaci√≥n\n    'DX': 'last',\n    'APOE4': 'first',\n}).reset_index()\n\n\n\n\nCode\n# EDADES\nprint(\"-\"*30)\nprint(\"Edades de los pacientes\")\nprint(info_sujetos['AGE'].describe())\nplt.figure(figsize=(8, 2))\ninfo_sujetos['AGE'].plot.box(vert=False)\nplt.title(\"Distribuci√≥n de la edad\")\nplt.xlabel(\"Contraste\")\nplt.show()\n\n\n------------------------------\nEdades de los pacientes\ncount    51.000000\nmean     74.525490\nstd       6.904574\nmin      60.300000\n25%      70.200000\n50%      75.200000\n75%      79.500000\nmax      88.300000\nName: AGE, dtype: float64\n\n\n\n\n\n\n\n\n\nEl conjunto de datos incluye informaci√≥n de los 51 pacientes, con una edad promedio de aproximadamente 75 a√±os. Las edades oscilan entre los 60 y 88 a√±os, teniendo en cuenta que la poblaci√≥n corresponde principalmente a adultos mayores.\nLa distribuci√≥n es relativamente concentrada, con la mitad de los pacientes entre 70 y 80 a√±os, y una desviaci√≥n est√°ndar de 6.9 a√±os, lo que sugiere una variabilidad moderada en la edad.\n\n\nCode\n# SEXO\nprint(\"-\"*30)\nprint(\"Sexo de los pacientes\")\nprint(info_sujetos['PTGENDER'].value_counts().to_frame())\ninfo_sujetos['PTGENDER'].value_counts().plot.barh()\n\n\n------------------------------\nSexo de los pacientes\n          count\nPTGENDER       \nMale         38\nFemale       13\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Educaci√≥n\nprint(\"-\"*30)\nprint(\"Nivel educativo de los pacientes\")\nprint(info_sujetos['PTEDUCAT'].value_counts().to_frame())\ninfo_sujetos['PTEDUCAT'].value_counts().plot.barh()\n\n\n------------------------------\nNivel educativo de los pacientes\n                                    count\nPTEDUCAT                                 \nUniversitario completo                 16\nPosgrado corto                         12\nPosgrado avanzado                      11\nT√©cnico o incompleto universitario      5\nSecundaria completa                     4\nPrimaria o menos                        3\n\n\n\n\n\n\n\n\n\nLa mayor√≠a de los pacientes del estudio presentan un alto nivel educativo. Cerca del 77% cuenta con formaci√≥n universitaria o de posgrado, lo que sugiere una muestra predominantemente conformada por personas con acceso a educaci√≥n superior.\nEn detalle, 16 pacientes (‚âà32%) completaron estudios universitarios, 12 (‚âà25%) alcanzaron un posgrado corto, y 11 (‚âà21%) un posgrado avanzado. Los niveles educativos m√°s bajos, como secundaria o primaria, est√°n presentes en pocos casos (menos del 15% en conjunto).\n\n\nCode\n# APOE4\nprint(\"-\"*30)\nprint(\"Genotipo APOE4\")\nprint(info_sujetos['APOE4'].value_counts().to_frame())\ninfo_sujetos['APOE4'].value_counts().plot.barh()\n\n\n------------------------------\nGenotipo APOE4\n       count\nAPOE4       \n0.0       23\n1.0       22\n2.0        6\n\n\n\n\n\n\n\n\n\nEl an√°lisis del genotipo APOE4, un marcador gen√©tico estrechamente relacionado con la susceptibilidad al Alzheimer, revela una distribuci√≥n equilibrada dentro del grupo de pacientes. Cerca de la mitad de ellos no presenta el alelo (23 individuos), mientras que una proporci√≥n similar posee una sola copia (22 individuos), y un grupo m√°s reducido, compuesto por seis pacientes, cuenta con dos copias del alelo APOE4. Esta variabilidad gen√©tica es relevante, ya que la presencia de una o dos copias de APOE4 se ha asociado con un mayor riesgo de desarrollar Alzheimer y con un posible inicio m√°s temprano de los s√≠ntomas.\n\n\nCode\n# Diagn√≥stico final\nprint(\"-\"*30)\nprint(\"Genotipo DX\")\nprint(info_sujetos['DX'].value_counts().to_frame())\ninfo_sujetos['DX'].value_counts().plot.barh()\n\n\n------------------------------\nGenotipo DX\n          count\nDX             \nMCI          29\nDementia     22\n\n\n\n\n\n\n\n\n\nEl conjunto de pacientes presenta una distribuci√≥n moderadamente equilibrada entre los distintos estados cl√≠nicos del diagn√≥stico (DX). La mayor√≠a corresponde a casos de deterioro cognitivo leve (MCI), con 29 pacientes, mientras que los 22 restantes han sido diagnosticados con demencia, fase m√°s avanzada del Alzheimer. Esta composici√≥n refleja una muestra representativa de distintas etapas del deterioro cognitivo, lo que permite analizar tanto los cambios estructurales tempranos como los asociados a un da√±o cerebral m√°s severo.\n\n\nCode\ndf[\"EXAMDATE\"] = pd.to_datetime(df[\"EXAMDATE\"])\ndf[\"a√±o\"] = df[\"EXAMDATE\"].dt.year\ndf_duracion = df.sort_values([\"sujeto_id\", \"EXAMDATE\"]).groupby(\"sujeto_id\").agg(\n    a√±o_inicio=(\"a√±o\", \"first\"),\n    a√±o_final=(\"a√±o\", \"last\")\n).reset_index()\n\ndf_duracion[\"duracion_anios\"] = df_duracion[\"a√±o_final\"] - df_duracion[\"a√±o_inicio\"]\nprint(df_duracion[\"duracion_anios\"].value_counts().sort_index().to_frame())\n\ndf_duracion[\"duracion_anios\"].value_counts().sort_index().plot.barh()\n\n\n                count\nduracion_anios       \n1                  12\n2                  22\n3                  16\n4                   1\n\n\n\n\n\n\n\n\n\nLa duraci√≥n del seguimiento cl√≠nico de los pacientes var√≠a entre cero y cuatro a√±os, concentr√°ndose principalmente en per√≠odos intermedios. La mayor√≠a de los sujetos fueron observados durante dos a√±os (22 pacientes) o tres a√±os (16 pacientes), mientras que un grupo menor tuvo un seguimiento de un a√±o (12 pacientes). Solo uno alcanz√≥ los cuatro a√±os de registro.",
    "crumbs": [
      "<span class='chapter-number'>3</span>¬† <span class='chapter-title'>**An√°lisis Exploratorio de Datos**</span>"
    ]
  },
  {
    "objectID": "2_EDA.html#progresi√≥n-cl√≠nica",
    "href": "2_EDA.html#progresi√≥n-cl√≠nica",
    "title": "3¬† An√°lisis Exploratorio de Datos",
    "section": "3.5 4. Progresi√≥n cl√≠nica",
    "text": "3.5 4. Progresi√≥n cl√≠nica\n\n\nCode\n# Vistas por pacientes\ntabla_visitas = (\n    df\n    .assign(valor=\"O\")  # marcamos presencia\n    .pivot_table(index=\"sujeto_id\", columns=\"VISCODE\", values=\"valor\", aggfunc=\"first\", fill_value=\"X\")\n    .sort_index(axis=1)\n)\ntabla_visitas\nconteo_visitas = (tabla_visitas == \"O\").sum(axis=1)\nresumen_visitas = conteo_visitas.value_counts().sort_index()\ntabla_resumen = pd.DataFrame({\n    \"Vistas\": resumen_visitas.index,\n    \"Pacientes\": resumen_visitas.values\n})\nprint(tabla_resumen)\nprint(\"Resumen de n√∫mero de visitas por paciente:\")\nplt.bar(tabla_resumen[\"Vistas\"], tabla_resumen[\"Pacientes\"], color='green')\nplt.title(\"Im√°genes x paciente\")\nplt.xlabel(\"Im√°genes\")\nplt.ylabel(\"Frecuencia\")\n\n\n   Vistas  Pacientes\n0       3          6\n1       4          7\n2       5         10\n3       6         13\n4       7         15\nResumen de n√∫mero de visitas por paciente:\n\n\nText(0, 0.5, 'Frecuencia')\n\n\n\n\n\n\n\n\n\nEl n√∫mero de visitas por paciente muestra una distribuci√≥n progresiva, donde la mayor√≠a de los individuos cuentan con un seguimiento prolongado a lo largo de varias evaluaciones cl√≠nicas o sesiones de imagen. En total, 15 pacientes realizaron 7 visitas, constituyendo el grupo m√°s numeroso y representando un seguimiento continuo y completo dentro del estudio. A continuaci√≥n, le siguen los grupos con 6 visitas (13 pacientes) y 5 visitas (10 pacientes), lo que refleja una buena retenci√≥n de participantes. En contraste, solo un n√∫mero reducido de pacientes tuvo 3 o 4 visitas (6 y 7 casos, respectivamente), posiblemente debido a abandonos o inclusi√≥n tard√≠a en el estudio.\n\n\nCode\n# Linea de vistas por sujeto\nplt.figure(figsize=(10,6))\nfor sid, grupo in df.groupby('sujeto_id'):\n    plt.plot(grupo['VISCODE'], [sid]*len(grupo), marker='o', linestyle='-', alpha=0.6)\nplt.title('L√≠nea temporal de visitas por sujeto')\nplt.xticks(ticks=range(6, 37, 6))\nplt.xlabel('Fecha')\nplt.ylabel('Sujeto ID')\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\n\nLa l√≠nea temporal de visitas por sujeto muestra un seguimiento cl√≠nico estructurado y constante a lo largo del tiempo para la mayor√≠a de los participantes del estudio. Cada l√≠nea representa a un paciente y los puntos indican las fechas en las que se realizaron las evaluaciones o adquisiciones de im√°genes.\nSe observa que la mayor√≠a de los sujetos cuentan con m√∫ltiples visitas distribuidas regularmente, lo que evidencia un protocolo longitudinal bien definido, con mediciones repetidas aproximadamente cada seis meses. Algunos sujetos tienen menos puntos en su l√≠nea, lo que podr√≠a reflejar p√©rdida de seguimiento, exclusiones o incorporaci√≥n tard√≠a en el estudio.\n\n\nCode\nprint(df[\"VISCODE\"].value_counts().sort_index().to_frame())\ndf['VISCODE'].value_counts().sort_index().plot.barh()\n\n\n         count\nVISCODE       \n0           51\n6           51\n12          51\n18          43\n24          38\n30          28\n36          17\n\n\n\n\n\n\n\n\n\nLos valores muestran una reducci√≥n progresiva en la cantidad de registros a medida que aumenta el tiempo de seguimiento ‚Äî de 51 sujetos al inicio, a solo 17 en el mes 36. Esto sugiere p√©rdida de participantes, algo habitual en estudios cl√≠nicos prolongados, ya sea por retiro, fallecimiento o datos incompletos.\n\nVariables Cognitivas\n\n\n\nCode\n# Variables cognitivas\ninfo_cognitiva = df.groupby('sujeto_id').agg({\n    'CDRSB': ['min', 'mean', 'max'],\n    'MMSE': ['min', 'mean', 'max'],\n    'ADAS13': ['min', 'mean', 'max'],\n    'FAQ': ['min', 'mean', 'max'],\n    'RAVLT_immediate':['min', 'mean', 'max'],\n    'RAVLT_learning': ['min', 'mean', 'max'],\n    'RAVLT_forgetting': ['min', 'mean', 'max'],\n    'DIGITSCOR': ['min', 'mean', 'max'],\n    'TRABSCOR': ['min', 'mean', 'max'],\n}).reset_index()\n\n\n\n\nCode\n# Aplanar columnas\ninfo_cognitiva.columns = ['sujeto_id'] + [f\"{var}_{stat}\" for var, stat in info_cognitiva.columns[1:]]\n\n# Convertir a formato largo\ninfo_long = pd.melt(\n    info_cognitiva,\n    id_vars=\"sujeto_id\",\n    var_name=\"variable_estadistica\",\n    value_name=\"valor\"\n)\n\n# Separar nombre de variable y tipo de estad√≠stico\ninfo_long[[\"variable\", \"estadistica\"]] = info_long[\"variable_estadistica\"].str.rsplit(\"_\", n=1, expand=True)\n\nvariables = info_long[\"variable\"].unique()\n\nfor var in variables:\n    plt.figure(figsize=(6, 5))\n    sns.boxplot(\n        data=info_long[info_long[\"variable\"] == var],\n        x=\"estadistica\",\n        y=\"valor\",\n        palette=\"Set2\"\n    )\n    plt.title(f\"Distribuci√≥n de {var} por estad√≠stico\")\n    plt.xlabel(\"Estad√≠stico\")\n    plt.ylabel(var)\n    plt.grid(axis=\"y\", linestyle=\"--\", alpha=0.3)\n    plt.tight_layout()\n    plt.show()\n\n\nC:\\Users\\Hp\\AppData\\Local\\Temp\\ipykernel_34204\\2176027057.py:19: FutureWarning: \n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n  sns.boxplot(\n\n\n\n\n\n\n\n\n\nC:\\Users\\Hp\\AppData\\Local\\Temp\\ipykernel_34204\\2176027057.py:19: FutureWarning: \n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n  sns.boxplot(\n\n\n\n\n\n\n\n\n\nC:\\Users\\Hp\\AppData\\Local\\Temp\\ipykernel_34204\\2176027057.py:19: FutureWarning: \n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n  sns.boxplot(\n\n\n\n\n\n\n\n\n\nC:\\Users\\Hp\\AppData\\Local\\Temp\\ipykernel_34204\\2176027057.py:19: FutureWarning: \n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n  sns.boxplot(\n\n\n\n\n\n\n\n\n\nC:\\Users\\Hp\\AppData\\Local\\Temp\\ipykernel_34204\\2176027057.py:19: FutureWarning: \n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n  sns.boxplot(\n\n\n\n\n\n\n\n\n\nC:\\Users\\Hp\\AppData\\Local\\Temp\\ipykernel_34204\\2176027057.py:19: FutureWarning: \n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n  sns.boxplot(\n\n\n\n\n\n\n\n\n\nC:\\Users\\Hp\\AppData\\Local\\Temp\\ipykernel_34204\\2176027057.py:19: FutureWarning: \n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n  sns.boxplot(\n\n\n\n\n\n\n\n\n\nC:\\Users\\Hp\\AppData\\Local\\Temp\\ipykernel_34204\\2176027057.py:19: FutureWarning: \n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n  sns.boxplot(\n\n\n\n\n\n\n\n\n\nC:\\Users\\Hp\\AppData\\Local\\Temp\\ipykernel_34204\\2176027057.py:19: FutureWarning: \n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n  sns.boxplot(\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Agrupar por variable y estad√≠stico\ntabla_resumen = info_long.groupby([\"variable\", \"estadistica\"])[\"valor\"].agg([\"min\", \"mean\", \"max\"]).round(2).reset_index()\n# Ordenar por variable y tipo de estad√≠stico\ntabla_resumen = tabla_resumen.sort_values([\"variable\", \"estadistica\"])\n\n# Mostrar\ntabla_resumen\n\n\n\n\n\n\n\n\n\nvariable\nestadistica\nmin\nmean\nmax\n\n\n\n\n0\nADAS13\nmax\n10.33\n25.29\n49.33\n\n\n1\nADAS13\nmean\n8.33\n20.74\n36.40\n\n\n2\nADAS13\nmin\n1.67\n16.27\n32.33\n\n\n3\nCDRSB\nmax\n0.50\n2.98\n9.00\n\n\n4\nCDRSB\nmean\n0.50\n1.97\n5.00\n\n\n5\nCDRSB\nmin\n0.00\n1.06\n3.00\n\n\n6\nDIGITSCOR\nmax\n20.00\n42.22\n68.00\n\n\n7\nDIGITSCOR\nmean\n14.20\n37.28\n61.67\n\n\n8\nDIGITSCOR\nmin\n0.00\n31.35\n53.00\n\n\n9\nFAQ\nmax\n0.00\n8.53\n25.00\n\n\n10\nFAQ\nmean\n0.00\n5.39\n20.80\n\n\n11\nFAQ\nmin\n0.00\n2.67\n18.00\n\n\n12\nMMSE\nmax\n24.00\n28.29\n30.00\n\n\n13\nMMSE\nmean\n15.20\n26.11\n29.83\n\n\n14\nMMSE\nmin\n8.00\n23.75\n29.00\n\n\n15\nRAVLT_forgetting\nmax\n3.00\n6.29\n11.00\n\n\n16\nRAVLT_forgetting\nmean\n1.00\n4.54\n8.00\n\n\n17\nRAVLT_forgetting\nmin\n-7.00\n2.75\n7.00\n\n\n18\nRAVLT_immediate\nmax\n18.00\n33.14\n57.00\n\n\n19\nRAVLT_immediate\nmean\n13.60\n28.05\n49.33\n\n\n20\nRAVLT_immediate\nmin\n5.00\n23.27\n41.00\n\n\n21\nRAVLT_learning\nmax\n2.00\n5.12\n10.00\n\n\n22\nRAVLT_learning\nmean\n0.67\n3.19\n7.33\n\n\n23\nRAVLT_learning\nmin\n-2.00\n1.22\n5.00\n\n\n24\nTRABSCOR\nmax\n53.00\n178.90\n300.00\n\n\n25\nTRABSCOR\nmean\n44.33\n134.41\n286.80\n\n\n26\nTRABSCOR\nmin\n0.00\n88.12\n234.00\n\n\n\n\n\n\n\nLas variables cognitivas evaluadas reflejan distintos dominios del funcionamiento mental, desde la memoria hasta la funci√≥n ejecutiva.\nEl MMSE presenta valores promedio entre 15 y 29 puntos, indicando una amplia variabilidad en el estado cognitivo general, desde deterioro leve hasta casi normalidad. De forma consistente, el CDRSB muestra medias entre 1 y 2 puntos, con m√°ximos de hasta 9, lo que sugiere diferencias marcadas en la severidad cl√≠nica de la demencia.\nEl ADAS13, centrado en el deterioro asociado al Alzheimer, promedia entre 16 y 25 puntos, evidenciando un grado de afectaci√≥n moderado en gran parte de los pacientes. En el √°mbito funcional, el FAQ mantiene medias entre 2 y 5 puntos, reflejando una p√©rdida leve a moderada en las actividades diarias.\nLas pruebas de memoria verbal (RAVLT) muestran un rendimiento variable: las puntuaciones inmediatas y de aprendizaje oscilan entre 23 y 33, mientras que el √≠ndice de olvido (RAVLT_forgetting) evidencia una retenci√≥n disminuida en varios casos. Por su parte, la atenci√≥n y la memoria de trabajo (DIGITSCOR) se mantienen relativamente conservadas, con medias alrededor de 37 puntos.\nFinalmente, el TRABSCOR, indicador de la funci√≥n ejecutiva, alcanza promedios cercanos a 135 segundos, reflejando una ralentizaci√≥n cognitiva en algunos sujetos. En conjunto, los resultados confirman la heterogeneidad del perfil cognitivo en la muestra, coherente con diferentes etapas del deterioro cognitivo y la demencia.\n\nVariables sobre el volumen MRI\n\n\n\nCode\n# Variables de de Vol√∫menes MRI\ninfo_volumen = df.groupby('sujeto_id').agg({\n    'Ventricles' : ['min', 'mean', 'max'],\n    'Hippocampus': ['min', 'mean', 'max'],\n    'WholeBrain': ['min', 'mean', 'max'], \n    'Entorhinal': ['min', 'mean', 'max'],\n    'Fusiform': ['min', 'mean', 'max'],\n    'MidTemp': ['min', 'mean', 'max'],\n    'ICV': ['min', 'mean', 'max']\n}).reset_index()\n\n\n\n\nCode\n# Aplanar columnas\ninfo_volumen.columns = ['sujeto_id'] + [f\"{var}_{stat}\" for var, stat in info_volumen.columns[1:]]\n\n# Convertir a formato largo\ninfo_long = pd.melt(\n    info_volumen,\n    id_vars=\"sujeto_id\",\n    var_name=\"variable_estadistica\",\n    value_name=\"valor\"\n)\n\n# Separar nombre de variable y tipo de estad√≠stico\ninfo_long[[\"variable\", \"estadistica\"]] = info_long[\"variable_estadistica\"].str.rsplit(\"_\", n=1, expand=True)\n\nvariables = info_long[\"variable\"].unique()\n\nfor var in variables:\n    plt.figure(figsize=(6, 5))\n    sns.boxplot(\n        data=info_long[info_long[\"variable\"] == var],\n        x=\"estadistica\",\n        y=\"valor\",\n        palette=\"Set2\"\n    )\n    plt.title(f\"Distribuci√≥n de {var} por estad√≠stico\")\n    plt.xlabel(\"Estad√≠stico\")\n    plt.ylabel(var)\n    plt.grid(axis=\"y\", linestyle=\"--\", alpha=0.3)\n    plt.tight_layout()\n    plt.show()\n\n\nC:\\Users\\Hp\\AppData\\Local\\Temp\\ipykernel_34204\\1002387156.py:19: FutureWarning: \n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n  sns.boxplot(\n\n\n\n\n\n\n\n\n\nC:\\Users\\Hp\\AppData\\Local\\Temp\\ipykernel_34204\\1002387156.py:19: FutureWarning: \n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n  sns.boxplot(\n\n\n\n\n\n\n\n\n\nC:\\Users\\Hp\\AppData\\Local\\Temp\\ipykernel_34204\\1002387156.py:19: FutureWarning: \n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n  sns.boxplot(\n\n\n\n\n\n\n\n\n\nC:\\Users\\Hp\\AppData\\Local\\Temp\\ipykernel_34204\\1002387156.py:19: FutureWarning: \n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n  sns.boxplot(\n\n\n\n\n\n\n\n\n\nC:\\Users\\Hp\\AppData\\Local\\Temp\\ipykernel_34204\\1002387156.py:19: FutureWarning: \n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n  sns.boxplot(\n\n\n\n\n\n\n\n\n\nC:\\Users\\Hp\\AppData\\Local\\Temp\\ipykernel_34204\\1002387156.py:19: FutureWarning: \n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n  sns.boxplot(\n\n\n\n\n\n\n\n\n\nC:\\Users\\Hp\\AppData\\Local\\Temp\\ipykernel_34204\\1002387156.py:19: FutureWarning: \n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n  sns.boxplot(\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Agrupar por variable y estad√≠stico\ntabla_resumen = info_long.groupby([\"variable\", \"estadistica\"])[\"valor\"].agg([\"min\", \"mean\", \"max\"]).round(2).reset_index()\n# Ordenar por variable y tipo de estad√≠stico\ntabla_resumen = tabla_resumen.sort_values([\"variable\", \"estadistica\"])\n\n# Mostrar\ntabla_resumen\n\n\n\n\n\n\n\n\n\nvariable\nestadistica\nmin\nmean\nmax\n\n\n\n\n0\nEntorhinal\nmax\n2023.00\n3481.71\n5090.0\n\n\n1\nEntorhinal\nmean\n1853.00\n3157.49\n4511.2\n\n\n2\nEntorhinal\nmin\n1608.00\n2832.86\n4215.0\n\n\n3\nFusiform\nmax\n10946.00\n16742.86\n21808.0\n\n\n4\nFusiform\nmean\n10424.33\n16061.54\n20798.8\n\n\n5\nFusiform\nmin\n9860.00\n15365.92\n19972.0\n\n\n6\nHippocampus\nmax\n4087.00\n6431.73\n9396.0\n\n\n7\nHippocampus\nmean\n3717.67\n6205.67\n9251.5\n\n\n8\nHippocampus\nmin\n3471.00\n5997.59\n9102.0\n\n\n9\nICV\nmax\n1325720.00\n1595814.31\n1888900.0\n\n\n10\nICV\nmean\n1320936.67\n1585118.96\n1867338.0\n\n\n11\nICV\nmin\n1315940.00\n1575091.76\n1850260.0\n\n\n12\nMidTemp\nmax\n11241.00\n18991.55\n25678.0\n\n\n13\nMidTemp\nmean\n10291.00\n18319.15\n24870.0\n\n\n14\nMidTemp\nmin\n9341.00\n17627.04\n23970.0\n\n\n15\nVentricles\nmax\n13209.00\n48518.61\n156066.0\n\n\n16\nVentricles\nmean\n12704.00\n45054.87\n146665.4\n\n\n17\nVentricles\nmin\n12346.00\n41663.00\n126585.0\n\n\n18\nWholeBrain\nmax\n777166.00\n1012856.61\n1249300.0\n\n\n19\nWholeBrain\nmean\n771940.33\n994606.37\n1208020.0\n\n\n20\nWholeBrain\nmin\n765255.00\n976903.06\n1188380.0\n\n\n\n\n\n\n\nLas variables de volumen derivadas de im√°genes de resonancia magn√©tica permiten cuantificar la estructura anat√≥mica del cerebro y detectar cambios asociados con la atrofia y el deterioro cognitivo.\nEn general, los vol√∫menes medios observados muestran una distribuci√≥n coherente con las variaciones esperadas entre sujetos y posibles etapas de deterioro. El volumen intracraneal total (ICV) presenta valores promedio cercanos a 1.59 millones de mm¬≥, siendo una medida anat√≥mica estable que se utiliza para normalizar otras variables de volumen.\nEl volumen total cerebral (WholeBrain) muestra valores promedio alrededor del mill√≥n de mm¬≥, mientras que los ventr√≠culos (Ventricles) presentan una alta variabilidad (media ‚âà 47.000 mm¬≥), lo cual es caracter√≠stico de la expansi√≥n ventricular asociada a procesos de atrofia cortical.\nRegiones cr√≠ticas vinculadas con la memoria, como el hipocampo (Hippocampus) y la corteza entorrinal (Entorhinal), presentan vol√∫menes medios de aproximadamente 6.200 mm¬≥ y 3.100 mm¬≥, respectivamente. La reducci√≥n en estas √°reas se considera uno de los primeros indicadores estructurales del Alzheimer.\nPor otro lado, estructuras del l√≥bulo temporal, como el giro fusiforme (Fusiform) y el l√≥bulo temporal medio (MidTemp), presentan vol√∫menes intermedios (entre 15.000 y 18.000 mm¬≥), reflejando su participaci√≥n en procesos de reconocimiento visual y auditivo.\nEn conjunto, los resultados muestran una tendencia esperada de atrofia progresiva, principalmente en regiones temporales y de memoria, mientras que ICV y WholeBrain act√∫an como referencias anat√≥micas estables para la comparaci√≥n entre sujetos y sesiones.\n\nDiagnostico Inicial vrs Final\n\n\n\nCode\ndf_dx = df.sort_values([\"sujeto_id\", \"VISCODE\"]).groupby(\"sujeto_id\").agg(\n    dx_inicio=(\"DX\", \"first\"),\n    dx_final=(\"DX\", \"last\")\n).reset_index()\ntabla_transicion = df_dx.groupby([\"dx_inicio\", \"dx_final\"]).size().unstack(fill_value=0)\ntabla_transicion\n\n\n\n\n\n\n\n\ndx_final\nDementia\nMCI\n\n\ndx_inicio\n\n\n\n\n\n\nMCI\n22\n29\n\n\n\n\n\n\n\nEl diagn√≥stico inicial muestra que todos los participantes comenzaron el estudio con deterioro cognitivo leve (MCI). Sin embargo, al finalizar el seguimiento, 22 de ellos progresaron a demencia, mientras que 29 se mantuvieron en la misma condici√≥n. Esto refleja una tendencia esperada en la evoluci√≥n cl√≠nica del MCI, donde una proporci√≥n significativa de pacientes presenta un empeoramiento cognitivo a lo largo del tiempo, mientras que otros permanecen estables.",
    "crumbs": [
      "<span class='chapter-number'>3</span>¬† <span class='chapter-title'>**An√°lisis Exploratorio de Datos**</span>"
    ]
  },
  {
    "objectID": "2_EDA.html#an√°lisis-bivariado",
    "href": "2_EDA.html#an√°lisis-bivariado",
    "title": "3¬† An√°lisis Exploratorio de Datos",
    "section": "3.6 5. An√°lisis Bivariado",
    "text": "3.6 5. An√°lisis Bivariado\n\ndx_final x Edad\n\n\n\nCode\ndf_final = df.sort_values([\"sujeto_id\", \"VISCODE\"]).groupby(\"sujeto_id\").agg(\n    edad_final=(\"AGE\", \"last\"),\n    dx_final=(\"DX\", \"last\")\n).reset_index()\ntabla_edad_dx = df_final.groupby(\"dx_final\")[\"edad_final\"].describe().round(1)\ntabla_edad_dx\n\n\n\n\n\n\n\n\n\ncount\nmean\nstd\nmin\n25%\n50%\n75%\nmax\n\n\ndx_final\n\n\n\n\n\n\n\n\n\n\n\n\nDementia\n22.0\n74.2\n6.8\n60.3\n70.4\n74.7\n79.2\n88.3\n\n\nMCI\n29.0\n74.8\n7.1\n60.7\n70.3\n75.2\n79.4\n86.1\n\n\n\n\n\n\n\nLos pacientes con deterioro cognitivo leve (MCI) presentan una edad promedio de 74.8 a√±os (DE = 7.1), con un rango entre 60.7 y 86.1 a√±os. Por su parte, los pacientes diagnosticados con demencia muestran una edad promedio ligeramente menor, de 74.2 a√±os (DE = 6.8), con un rango entre 60.3 y 88.3 a√±os.\nAmbos grupos presentan distribuciones similares en sus valores m√≠nimos y m√°ximos, concentrando el 50 % central de los casos (rango intercuart√≠lico) entre los 70 y 80 a√±os.\n\nValores COGNI x VISCODE\n\n\n\nCode\ndf.groupby([\"VISCODE\"]).mean(numeric_only=True)[[ 'CDRSB', 'MMSE', 'ADAS13', 'FAQ', 'RAVLT_immediate', 'RAVLT_learning',\n       'RAVLT_forgetting', 'DIGITSCOR', 'TRABSCOR']]\n\n\n\n\n\n\n\n\n\nCDRSB\nMMSE\nADAS13\nFAQ\nRAVLT_immediate\nRAVLT_learning\nRAVLT_forgetting\nDIGITSCOR\nTRABSCOR\n\n\nVISCODE\n\n\n\n\n\n\n\n\n\n\n\n\n\n0\n1.235294\n27.372549\n19.078627\n3.500000\n29.862745\n3.745098\n4.960784\n37.725490\n120.220000\n\n\n6\n1.627451\n26.411765\n19.467400\n4.352941\n28.137255\n3.254902\n4.529412\n38.882353\n118.755102\n\n\n12\n1.941176\n26.333333\n20.157451\n5.360000\n28.627451\n3.235294\n4.490196\n36.901961\n135.843137\n\n\n18\n2.348837\n25.581395\n22.200930\n6.116279\n27.714286\n2.714286\n4.476190\n37.069767\n137.465116\n\n\n24\n2.837838\n24.815789\n23.491842\n7.837838\n26.447368\n2.552632\n4.736842\n35.289474\n160.684211\n\n\n30\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n36\n2.812500\n25.647059\n21.372353\n7.235294\n27.529412\n3.352941\n4.687500\n38.562500\n151.176471\n\n\n\n\n\n\n\nEl an√°lisis temporal de los puntajes cognitivos muestra una tendencia progresiva hacia el deterioro conforme avanza el seguimiento cl√≠nico (de 0 a 36 meses), consistente con la evoluci√≥n esperada en cohortes con riesgo o diagn√≥stico de Alzheimer.\nEn la escala CDRSB (Clinical Dementia Rating Sum of Boxes), que mide la severidad de la demencia, los valores medios aumentan de 1.23 en el inicio a 2.84 al mes 24, indicando una mayor afectaci√≥n funcional y cognitiva. En contraste, el MMSE (Mini-Mental State Examination), que eval√∫a el estado cognitivo global, muestra un descenso gradual de 27.3 a 24.8 puntos, reflejando una p√©rdida de funciones cognitivas generales.\nEl ADAS13, un √≠ndice sensible al deterioro en Alzheimer, pasa de 19.0 a 23.5 puntos en el mismo periodo, reforzando esta tendencia al empeoramiento. De manera paralela, el FAQ, que eval√∫a la autonom√≠a en actividades diarias, se incrementa de 3.5 a 7.8 puntos, lo cual indica una disminuci√≥n de la funcionalidad cotidiana.\nEn cuanto a las pruebas de memoria verbal (RAVLT_immediate, RAVLT_learning y RAVLT_forgetting), se observa un descenso leve en el rendimiento de aprendizaje y recuerdo con el tiempo, mientras que las medidas de atenci√≥n y funciones ejecutivas (DIGITSCOR y TRABSCOR) presentan fluctuaciones m√°s moderadas, aunque tambi√©n con una ligera tendencia a la disminuci√≥n del rendimiento o incremento del tiempo de ejecuci√≥n.\nEn conjunto, estos resultados confirman un proceso de deterioro cognitivo progresivo, particularmente evidente en las medidas globales (CDRSB, MMSE, ADAS13) y funcionales (FAQ), coherente con la naturaleza degenerativa de la enfermedad de Alzheimer y su impacto acumulativo a lo largo de los a√±os de seguimiento.\n\nValores VOLUMEN x VISCODE\n\n\n\nCode\ndf.groupby([\"VISCODE\"]).mean(numeric_only=True)[[ 'Ventricles',\n       'Hippocampus', 'WholeBrain', 'Entorhinal', 'Fusiform', 'MidTemp',\n       'ICV']]\n\n\n\n\n\n\n\n\n\nVentricles\nHippocampus\nWholeBrain\nEntorhinal\nFusiform\nMidTemp\nICV\n\n\nVISCODE\n\n\n\n\n\n\n\n\n\n\n\n0\n42340.960784\n6410.680851\n1.004484e+06\n3310.191489\n16595.851064\n18974.000000\n1.582249e+06\n\n\n6\n43703.612245\n6197.930233\n9.968302e+05\n3152.511628\n16317.046512\n18627.395349\n1.585129e+06\n\n\n12\n45051.313725\n6266.659091\n9.957942e+05\n3211.750000\n16089.818182\n18337.409091\n1.585502e+06\n\n\n18\n48546.780488\n6185.184211\n9.920210e+05\n3090.815789\n16028.815789\n17961.078947\n1.587287e+06\n\n\n24\n49118.617647\n5985.392857\n9.839078e+05\n3093.571429\n15676.285714\n18249.607143\n1.592065e+06\n\n\n30\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n36\n43194.400000\n6010.833333\n9.965634e+05\n3006.333333\n15955.166667\n18281.166667\n1.589993e+06\n\n\n\n\n\n\n\nLos valores promedio de los vol√∫menes cerebrales muestran una evoluci√≥n coherente con los procesos de deterioro cognitivo progresivo. A lo largo de las distintas visitas (VISCODE), se observa un incremento paulatino en el volumen de los ventr√≠culos cerebrales (Ventricles), pasando de aproximadamente 44,600 mm¬≥ al inicio a m√°s de 49,000 mm¬≥ en el mes 24. Este aumento refleja la expansi√≥n ventricular asociada a la p√©rdida de tejido cerebral.\nEn contraste, el volumen del hipocampo (Hippocampus) presenta una tendencia descendente, disminuyendo desde unos 6,426 mm¬≥ hasta cerca de 5,985 mm¬≥ en el mismo periodo. Esta reducci√≥n es consistente con la atrofia hipocampal que caracteriza a los trastornos neurodegenerativos como el Alzheimer. Una trayectoria similar se observa en el entorhinal (Entorhinal), regi√≥n crucial para la memoria y la navegaci√≥n espacial, que pasa de valores medios de 3,312 a cerca de 3,093 mm¬≥.\nEl volumen del cerebro completo (WholeBrain) tambi√©n disminuye progresivamente, desde aproximadamente 1,004,679 mm¬≥ hasta 983,907 mm¬≥ al mes 24, mientras que estructuras corticales espec√≠ficas como el fusiforme (Fusiform) y el temporal medio (MidTemp) mantienen una reducci√≥n m√°s leve pero constante. En particular, el Fusiform disminuye de 16,595 a 15,676 mm¬≥, y el MidTemp de 18,974 a 18,249 mm¬≥, lo que sugiere p√©rdida de masa en √°reas relacionadas con el procesamiento visual y la memoria sem√°ntica.\nPor su parte, el volumen intracraneal total (ICV) se mantiene estable a lo largo del tiempo, rondando los 1.58 millones de mm¬≥, como es esperable al ser una medida estructural fija que no var√≠a con la enfermedad sino que sirve de referencia para normalizar otros vol√∫menes.\nEn conjunto, estas tendencias reflejan un patr√≥n de atrofia cerebral progresiva, con expansi√≥n ventricular y p√©rdida de volumen en estructuras corticales y subcorticales clave, consistente con la progresi√≥n t√≠pica del deterioro cognitivo y la enfermedad de Alzheimer.",
    "crumbs": [
      "<span class='chapter-number'>3</span>¬† <span class='chapter-title'>**An√°lisis Exploratorio de Datos**</span>"
    ]
  },
  {
    "objectID": "2_EDA.html#evoluci√≥n-del-diagnostico-por-visita",
    "href": "2_EDA.html#evoluci√≥n-del-diagnostico-por-visita",
    "title": "3¬† An√°lisis Exploratorio de Datos",
    "section": "3.7 6. Evoluci√≥n del Diagnostico por Visita",
    "text": "3.7 6. Evoluci√≥n del Diagnostico por Visita\n\n\nCode\ntabla_dx = df.pivot_table(\n    index=\"sujeto_id\",\n    columns=\"VISCODE\",\n    values=\"DX\",\n    aggfunc=\"first\"  # Asume que hay una sola entrada por sujeto-visita\n).fillna(\"-\") \ntabla_dx\n\n\n\n\n\n\n\n\nVISCODE\n0\n6\n12\n18\n24\n36\n\n\nsujeto_id\n\n\n\n\n\n\n\n\n\n\n007_S_0101\nMCI\nMCI\nMCI\nMCI\nDementia\nDementia\n\n\n007_S_0128\nMCI\nMCI\nMCI\nDementia\nDementia\n-\n\n\n007_S_0249\nMCI\nMCI\nDementia\nDementia\nDementia\nDementia\n\n\n013_S_0240\nMCI\nMCI\nMCI\nDementia\n-\n-\n\n\n014_S_0169\nMCI\nMCI\nMCI\nMCI\nMCI\nMCI\n\n\n018_S_0057\nMCI\nMCI\nMCI\nDementia\nDementia\n-\n\n\n018_S_0080\nMCI\nMCI\nMCI\n-\n-\n-\n\n\n018_S_0087\nMCI\nMCI\nMCI\nMCI\n-\n-\n\n\n018_S_0142\nMCI\nMCI\nMCI\nMCI\nMCI\n-\n\n\n018_S_0155\nMCI\nMCI\nMCI\nMCI\nMCI\n-\n\n\n021_S_0141\nMCI\nMCI\nDementia\nDementia\nDementia\n-\n\n\n021_S_0231\nMCI\nMCI\nMCI\nMCI\nDementia\nDementia\n\n\n021_S_0273\nMCI\nMCI\nMCI\nMCI\nMCI\n-\n\n\n021_S_0276\nMCI\nMCI\nMCI\nMCI\nMCI\nMCI\n\n\n022_S_0004\nMCI\nMCI\nMCI\nMCI\n-\n-\n\n\n023_S_0042\nMCI\nMCI\nDementia\nDementia\nDementia\nDementia\n\n\n023_S_0126\nMCI\nMCI\nMCI\nMCI\nMCI\nDementia\n\n\n027_S_0116\nMCI\nMCI\nMCI\nMCI\nMCI\nMCI\n\n\n027_S_0179\nMCI\nMCI\nMCI\nDementia\n-\n-\n\n\n027_S_0256\nMCI\nDementia\nDementia\nDementia\nDementia\nDementia\n\n\n027_S_0307\nMCI\nMCI\nMCI\nMCI\nMCI\nMCI\n\n\n032_S_0187\nMCI\nMCI\nMCI\nMCI\nDementia\n-\n\n\n032_S_0214\nMCI\nMCI\nMCI\nMCI\nDementia\nDementia\n\n\n035_S_0033\nMCI\nMCI\nMCI\nMCI\nMCI\nMCI\n\n\n035_S_0204\nMCI\nMCI\nDementia\nDementia\nDementia\n-\n\n\n035_S_0292\nMCI\nMCI\nMCI\nMCI\n-\n-\n\n\n037_S_0150\nMCI\nMCI\nMCI\nMCI\nMCI\n-\n\n\n041_S_0282\nMCI\nMCI\nMCI\nMCI\n-\n-\n\n\n067_S_0038\nMCI\nMCI\nMCI\n-\n-\n-\n\n\n067_S_0077\nMCI\nMCI\nDementia\nDementia\nDementia\n-\n\n\n067_S_0098\nMCI\nMCI\nMCI\n-\nMCI\n-\n\n\n067_S_0176\nMCI\nMCI\nMCI\n-\nMCI\n-\n\n\n098_S_0160\nMCI\nMCI\nMCI\nMCI\nMCI\n-\n\n\n098_S_0269\nMCI\nDementia\nDementia\nDementia\nDementia\n-\n\n\n099_S_0051\nMCI\nMCI\nMCI\nMCI\nMCI\n-\n\n\n099_S_0054\nMCI\nMCI\nDementia\nDementia\nDementia\n-\n\n\n099_S_0060\nMCI\nMCI\nMCI\n-\n-\n-\n\n\n099_S_0111\nMCI\nMCI\nDementia\n-\n-\n-\n\n\n099_S_0291\nMCI\nMCI\nMCI\n-\n-\n-\n\n\n100_S_0006\nMCI\nMCI\nMCI\nMCI\nMCI\nMCI\n\n\n100_S_0296\nMCI\nMCI\nMCI\nMCI\nMCI\n-\n\n\n123_S_0108\nMCI\nMCI\nMCI\nDementia\nDementia\nDementia\n\n\n128_S_0188\nMCI\nMCI\nMCI\n-\n-\n-\n\n\n128_S_0200\nMCI\nMCI\nMCI\nMCI\n-\n-\n\n\n128_S_0225\nMCI\nMCI\nMCI\nMCI\nMCI\nMCI\n\n\n128_S_0258\nMCI\nMCI\nMCI\nMCI\nDementia\n-\n\n\n130_S_0102\nMCI\nMCI\nMCI\nMCI\nMCI\n-\n\n\n130_S_0285\nMCI\nMCI\nMCI\nMCI\nMCI\nMCI\n\n\n130_S_0289\nMCI\nMCI\nMCI\nMCI\nDementia\n-\n\n\n136_S_0107\nMCI\nMCI\nMCI\nMCI\nMCI\nMCI\n\n\n136_S_0195\nMCI\nMCI\nDementia\nDementia\nDementia\n-\n\n\n\n\n\n\n\nLa tabla muestra la progresi√≥n longitudinal del diagn√≥stico cl√≠nico (DX) en cada participante (sujeto_id) a lo largo de las distintas visitas (VISCODE), que corresponden a intervalos de seguimiento de 0, 6, 12, 18, 24 y 36 meses.\nEn la mayor√≠a de los casos, los sujetos inician el estudio con un diagn√≥stico de deterioro cognitivo leve (MCI), que representa una etapa intermedia entre el envejecimiento cognitivo normal y la demencia. Sin embargo, conforme avanzan las visitas, se observa un n√∫mero considerable de transiciones hacia el diagn√≥stico de demencia (Dementia), lo que indica un deterioro progresivo en el estado cognitivo de varios participantes.\nEste patr√≥n es evidente en m√∫ltiples sujetos (por ejemplo, 007_S_0101, 123_S_0108), quien presenta un cambio de MCI a demencia a partir de las visitas correspondientes a los 18 o 24 meses. Dichas transiciones son indicativas del curso cl√≠nico esperado en poblaciones con riesgo de Alzheimer, donde la progresi√≥n suele manifestarse gradualmente en un periodo de dos a tres a√±os.\nNo obstante, tambi√©n se identifican participantes que mantienen un diagn√≥stico estable de MCI durante todo el seguimiento (como 014_S_0169, 027_S_0116 o 035_S_0033), lo que sugiere una evoluci√≥n m√°s lenta o incluso una posible estabilizaci√≥n del deterioro cognitivo.\nAsimismo, se observan ausencias de registro (‚Äú‚Äì‚Äù) en algunas visitas, lo que puede deberse a p√©rdidas de seguimiento, datos faltantes o retiro de los sujetos del estudio, un aspecto com√∫n en estudios longitudinales de larga duraci√≥n.\nEn conjunto, los datos reflejan la heterogeneidad en la evoluci√≥n cl√≠nica de los pacientes con deterioro cognitivo leve: mientras algunos permanecen estables, otros progresan hacia demencia en distintos puntos del seguimiento.",
    "crumbs": [
      "<span class='chapter-number'>3</span>¬† <span class='chapter-title'>**An√°lisis Exploratorio de Datos**</span>"
    ]
  },
  {
    "objectID": "2_EDA.html#datos-tabulares",
    "href": "2_EDA.html#datos-tabulares",
    "title": "3¬† An√°lisis Exploratorio de Datos",
    "section": "",
    "text": "APOE4 es una variante gen√©tica de la apolipoprote√≠na E ‚ÄúCDRSB‚Äù, #‚ÄúSuma de cajas del Clinical Dementia Rating (CDR); mide la severidad de la demencia.‚Äù,/ ‚ÄúMMSE‚Äù, #‚ÄúMini-Mental State Examination; evaluaci√≥n global del estado cognitivo (m√°x. 30 puntos).‚Äù,/ ‚ÄúADAS13‚Äù, #‚ÄúAlzheimer‚Äôs Disease Assessment Scale ‚Äì 13 √≠tems; mide deterioro cognitivo en Alzheimer.‚Äù, ‚ÄúFAQ‚Äù, #‚ÄúFunctional Activities Questionnaire; eval√∫a la capacidad funcional en actividades diarias.‚Äù, ‚ÄúRAVLT_immediate‚Äù, # ‚ÄúPuntuaci√≥n inmediata en la prueba verbal de aprendizaje (Rey Auditory Verbal Learning Test).‚Äù, ‚ÄúRAVLT_learning‚Äù, # ‚ÄúPuntuaci√≥n de aprendizaje acumulado en RAVLT; mide retenci√≥n verbal.‚Äù, ‚ÄúRAVLT_forgetting‚Äù, # ‚Äú√çndice de olvido en RAVLT; diferencia entre aprendizaje y recuerdo tard√≠o.‚Äù, ‚ÄúDIGITSCOR‚Äù, #‚ÄúDigit Span Score; mide memoria de trabajo y atenci√≥n mediante secuencias num√©ricas.‚Äù, ‚ÄúTRABSCOR‚Äù, # ‚ÄúTrail Making Test B Score; eval√∫a funci√≥n ejecutiva y flexibilidad cognitiva.‚Äù, ] volumen = [ ‚ÄúVentricles‚Äù, # ‚ÄúVolumen de los ventr√≠culos cerebrales; puede indicar atrofia cerebral.‚Äù, ‚ÄúHippocampus‚Äù, # ‚ÄúVolumen del hipocampo; clave en memoria y afectado en Alzheimer.‚Äù, ‚ÄúWholeBrain‚Äù, # ‚ÄúVolumen total del cerebro; √∫til para evaluar atrofia global.‚Äù, ‚ÄúEntorhinal‚Äù, # ‚ÄúVolumen de la corteza entorrinal; regi√≥n afectada tempranamente en Alzheimer.‚Äù, ‚ÄúFusiform‚Äù, #‚ÄúVolumen del giro fusiforme; relacionado con reconocimiento visual.‚Äù, ‚ÄúMidTemp‚Äù, # ‚ÄúVolumen del l√≥bulo temporal medio; implicado en memoria y procesamiento auditivo.‚Äù, ‚ÄúICV‚Äù, #‚ÄúVolumen intracraneal total; usado para normalizar medidas volum√©tricas.‚Äù]",
    "crumbs": [
      "<span class='chapter-number'>3</span>¬† <span class='chapter-title'>**An√°lisis Exploratorio de Datos**</span>"
    ]
  }
]